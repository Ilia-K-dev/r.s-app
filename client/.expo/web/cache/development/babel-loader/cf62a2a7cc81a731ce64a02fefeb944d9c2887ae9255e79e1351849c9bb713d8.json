{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React from 'react';\nimport { useInventory } from \"../../../features/inventory/hooks/useInventory\";\nimport { Alert } from \"../../../shared/components/ui/Alert\";\nimport { Card } from \"../../../shared/components/ui/Card\";\nimport { Table } from \"../../../shared/components/ui/Table\";\nimport { Button } from \"../../../shared/components/forms/Button\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar InventoryList = function InventoryList() {\n  var _useInventory = useInventory(),\n    inventory = _useInventory.inventory,\n    loading = _useInventory.loading,\n    error = _useInventory.error,\n    pagination = _useInventory.pagination,\n    setPagination = _useInventory.setPagination;\n  var columns = [{\n    header: 'Item',\n    key: 'name'\n  }, {\n    header: 'Quantity',\n    key: 'quantity'\n  }, {\n    header: 'Unit',\n    key: 'unit'\n  }, {\n    header: 'Status',\n    key: 'status',\n    render: function render(item) {\n      return _jsx(\"span\", {\n        className: `px-2 py-1 rounded-full text-sm ${item.quantity <= item.minStock ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`,\n        children: item.quantity <= item.minStock ? 'Low Stock' : 'In Stock'\n      });\n    }\n  }];\n  var handleNextPage = function handleNextPage() {\n    if (pagination.hasNextPage) {\n      setPagination(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          startAfter: pagination.lastVisible\n        });\n      });\n    }\n  };\n  var handlePreviousPage = function handlePreviousPage() {\n    console.warn(\"Previous page not fully implemented with cursor-based pagination.\");\n  };\n  return _jsx(Card, {\n    children: _jsxs(\"div\", {\n      className: \"p-4\",\n      children: [_jsx(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Inventory\"\n      }), error && _jsx(Alert, {\n        type: \"error\",\n        message: error,\n        className: \"mb-4\"\n      }), _jsx(Table, {\n        columns: columns,\n        data: inventory,\n        loading: loading\n      }), _jsx(\"div\", {\n        className: \"flex justify-center mt-4 space-x-4\",\n        children: _jsx(Button, {\n          onClick: handleNextPage,\n          disabled: !pagination.hasNextPage || loading,\n          children: \"Next Page\"\n        })\n      })]\n    })\n  });\n};\nexport default InventoryList;","map":{"version":3,"names":["React","useInventory","Alert","Card","Table","Button","jsx","_jsx","jsxs","_jsxs","InventoryList","_useInventory","inventory","loading","error","pagination","setPagination","columns","header","key","render","item","className","quantity","minStock","children","handleNextPage","hasNextPage","prev","_objectSpread","startAfter","lastVisible","handlePreviousPage","console","warn","type","message","data","onClick","disabled"],"sources":["C:/Users/user/Documents/app.v3/client/src/features/inventory/components/InventoryList.js"],"sourcesContent":["import React from 'react';\r\nimport { useInventory } from '../../../features/inventory/hooks/useInventory';\r\nimport { Alert } from '../../../shared/components/ui/Alert';\r\nimport { Card } from '../../../shared/components/ui/Card';\r\nimport { Table } from '../../../shared/components/ui/Table';\r\nimport { Button } from '../../../shared/components/forms/Button'; // Import Button for pagination\r\n\r\nconst InventoryList = () => {\r\n  const { inventory, loading, error, pagination, setPagination } = useInventory(); // Get pagination state and setter\r\n\r\n  const columns = [\r\n    { header: 'Item', key: 'name' },\r\n    { header: 'Quantity', key: 'quantity' },\r\n    { header: 'Unit', key: 'unit' },\r\n    {\r\n      header: 'Status',\r\n      key: 'status',\r\n      render: item => (\r\n        <span\r\n          className={`px-2 py-1 rounded-full text-sm ${\r\n            item.quantity <= item.minStock\r\n              ? 'bg-red-100 text-red-800'\r\n              : 'bg-green-100 text-green-800'\r\n          }`}\r\n        >\r\n          {item.quantity <= item.minStock ? 'Low Stock' : 'In Stock'}\r\n        </span>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  // Handle pagination\r\n  const handleNextPage = () => {\r\n    if (pagination.hasNextPage) {\r\n      // Pass the lastVisible cursor to fetch the next page\r\n      setPagination(prev => ({ ...prev, startAfter: pagination.lastVisible }));\r\n    }\r\n  };\r\n\r\n  const handlePreviousPage = () => {\r\n      // Note: Implementing \"Previous\" page with cursor-based pagination requires storing\r\n      // the startAfter cursor for each page visited. This is a more complex state management\r\n      // task and is beyond the basic implementation here. For simplicity, only \"Next\" is fully\r\n      // supported with the current hook structure. A full implementation would involve\r\n      // storing a history of lastVisible cursors.\r\n      console.warn(\"Previous page not fully implemented with cursor-based pagination.\");\r\n      // A basic approach might involve refetching from the beginning with a limit and offset,\r\n      // but this can be inefficient.\r\n  };\r\n\r\n\r\n  return (\r\n    <Card>\r\n      <div className=\"p-4\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Inventory</h3>\r\n        {error && <Alert type=\"error\" message={error} className=\"mb-4\" />}\r\n        <Table columns={columns} data={inventory} loading={loading} />\r\n\r\n        {/* Pagination Controls */}\r\n        <div className=\"flex justify-center mt-4 space-x-4\">\r\n            {/* Previous button is complex with cursor pagination, omitting for basic implementation */}\r\n            {/* <Button onClick={handlePreviousPage} disabled={!pagination.startAfter || loading}>Previous</Button> */}\r\n            <Button onClick={handleNextPage} disabled={!pagination.hasNextPage || loading}>Next Page</Button>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default InventoryList;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY;AACrB,SAASC,KAAK;AACd,SAASC,IAAI;AACb,SAASC,KAAK;AACd,SAASC,MAAM;AAAkD,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAEjE,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;EAC1B,IAAAC,aAAA,GAAiEV,YAAY,CAAC,CAAC;IAAvEW,SAAS,GAAAD,aAAA,CAATC,SAAS;IAAEC,OAAO,GAAAF,aAAA,CAAPE,OAAO;IAAEC,KAAK,GAAAH,aAAA,CAALG,KAAK;IAAEC,UAAU,GAAAJ,aAAA,CAAVI,UAAU;IAAEC,aAAa,GAAAL,aAAA,CAAbK,aAAa;EAE5D,IAAMC,OAAO,GAAG,CACd;IAAEC,MAAM,EAAE,MAAM;IAAEC,GAAG,EAAE;EAAO,CAAC,EAC/B;IAAED,MAAM,EAAE,UAAU;IAAEC,GAAG,EAAE;EAAW,CAAC,EACvC;IAAED,MAAM,EAAE,MAAM;IAAEC,GAAG,EAAE;EAAO,CAAC,EAC/B;IACED,MAAM,EAAE,QAAQ;IAChBC,GAAG,EAAE,QAAQ;IACbC,MAAM,EAAE,SAARA,MAAMA,CAAEC,IAAI;MAAA,OACVd,IAAA;QACEe,SAAS,EAAE,kCACTD,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,QAAQ,GAC1B,yBAAyB,GACzB,6BAA6B,EAChC;QAAAC,QAAA,EAEFJ,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,QAAQ,GAAG,WAAW,GAAG;MAAU,CACtD,CAAC;IAAA;EAEX,CAAC,CACF;EAGD,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;IAC3B,IAAIX,UAAU,CAACY,WAAW,EAAE;MAE1BX,aAAa,CAAC,UAAAY,IAAI;QAAA,OAAAC,aAAA,CAAAA,aAAA,KAAUD,IAAI;UAAEE,UAAU,EAAEf,UAAU,CAACgB;QAAW;MAAA,CAAG,CAAC;IAC1E;EACF,CAAC;EAED,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA,EAAS;IAM7BC,OAAO,CAACC,IAAI,CAAC,mEAAmE,CAAC;EAGrF,CAAC;EAGD,OACE3B,IAAA,CAACJ,IAAI;IAAAsB,QAAA,EACHhB,KAAA;MAAKa,SAAS,EAAC,KAAK;MAAAG,QAAA,GAClBlB,IAAA;QAAIe,SAAS,EAAC,4BAA4B;QAAAG,QAAA,EAAC;MAAS,CAAI,CAAC,EACxDX,KAAK,IAAIP,IAAA,CAACL,KAAK;QAACiC,IAAI,EAAC,OAAO;QAACC,OAAO,EAAEtB,KAAM;QAACQ,SAAS,EAAC;MAAM,CAAE,CAAC,EACjEf,IAAA,CAACH,KAAK;QAACa,OAAO,EAAEA,OAAQ;QAACoB,IAAI,EAAEzB,SAAU;QAACC,OAAO,EAAEA;MAAQ,CAAE,CAAC,EAG9DN,IAAA;QAAKe,SAAS,EAAC,oCAAoC;QAAAG,QAAA,EAG/ClB,IAAA,CAACF,MAAM;UAACiC,OAAO,EAAEZ,cAAe;UAACa,QAAQ,EAAE,CAACxB,UAAU,CAACY,WAAW,IAAId,OAAQ;UAAAY,QAAA,EAAC;QAAS,CAAQ;MAAC,CAChG,CAAC;IAAA,CACH;EAAC,CACF,CAAC;AAEX,CAAC;AAED,eAAef,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}