{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState } from 'react';\nimport { Card } from \"../src/shared/components/ui/Card\";\nimport { Button } from \"../src/shared/components/forms/Button\";\nimport { Camera, Upload } from 'lucide-react';\nimport { useToast } from \"../src/shared/hooks/useToast\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ScannerInterface = function ScannerInterface(_ref) {\n  var onCapture = _ref.onCapture,\n    onUpload = _ref.onUpload;\n  var fileInputRef = useRef(null);\n  var _useToast = useToast(),\n    showToast = _useToast.showToast;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var handleFileSelect = function () {\n    var _ref2 = _asyncToGenerator(function* (e) {\n      var _e$target$files;\n      var file = (_e$target$files = e.target.files) == null ? void 0 : _e$target$files[0];\n      if (!file) return;\n      if (!file.type.startsWith('image/')) {\n        showToast('Please select an image file', 'error');\n        return;\n      }\n      try {\n        setLoading(true);\n        yield onUpload(file);\n      } catch (error) {\n        showToast(error.message, 'error');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleFileSelect(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(Card, {\n    className: \"p-6\",\n    children: _jsxs(\"div\", {\n      className: \"flex flex-col items-center space-y-4\",\n      children: [_jsxs(\"div\", {\n        className: \"grid grid-cols-2 gap-4 w-full\",\n        children: [_jsx(Button, {\n          onClick: function onClick() {\n            return onCapture();\n          },\n          icon: Camera,\n          disabled: loading,\n          children: \"Take Photo\"\n        }), _jsx(Button, {\n          variant: \"secondary\",\n          onClick: function onClick() {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) == null ? void 0 : _fileInputRef$current.click();\n          },\n          icon: Upload,\n          disabled: loading,\n          children: \"Upload\"\n        })]\n      }), _jsx(\"input\", {\n        ref: fileInputRef,\n        type: \"file\",\n        accept: \"image/*\",\n        className: \"hidden\",\n        onChange: handleFileSelect\n      })]\n    })\n  });\n};\nexport default ScannerInterface;","map":{"version":3,"names":["React","useRef","useState","Card","Button","Camera","Upload","useToast","jsx","_jsx","jsxs","_jsxs","ScannerInterface","_ref","onCapture","onUpload","fileInputRef","_useToast","showToast","_useState","_useState2","_slicedToArray","loading","setLoading","handleFileSelect","_ref2","_asyncToGenerator","e","_e$target$files","file","target","files","type","startsWith","error","message","_x","apply","arguments","className","children","onClick","icon","disabled","variant","_fileInputRef$current","current","click","ref","accept","onChange"],"sources":["C:/Users/user/Documents/app.v3/client/src/shared/components/ui/ScannerInterface.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { Card } from '../src/shared/components/ui/Card'; // Updated import path\r\nimport { Button } from '../src/shared/components/forms/Button'; // Updated import path\r\nimport { Camera, Upload } from 'lucide-react'; // Updated import path\r\nimport { useToast } from '../src/shared/hooks/useToast'; // Updated import path\r\n\r\nconst ScannerInterface = ({ onCapture, onUpload }) => {\r\n  const fileInputRef = useRef(null);\r\n  const { showToast } = useToast();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleFileSelect = async (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    if (!file.type.startsWith('image/')) {\r\n      showToast('Please select an image file', 'error');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      await onUpload(file);\r\n    } catch (error) {\r\n      showToast(error.message, 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-6\">\r\n      <div className=\"flex flex-col items-center space-y-4\">\r\n        <div className=\"grid grid-cols-2 gap-4 w-full\">\r\n          <Button\r\n            onClick={() => onCapture()}\r\n            icon={Camera}\r\n            disabled={loading}\r\n          >\r\n            Take Photo\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => fileInputRef.current?.click()}\r\n            icon={Upload}\r\n            disabled={loading}\r\n          >\r\n            Upload\r\n          </Button>\r\n        </div>\r\n        <input\r\n          ref={fileInputRef}\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          className=\"hidden\"\r\n          onChange={handleFileSelect}\r\n        />\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ScannerInterface;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,IAAI;AACb,SAASC,MAAM;AACf,SAASC,MAAM,EAAEC,MAAM,QAAQ,cAAc;AAC7C,SAASC,QAAQ;AAAuC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAExD,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAAC,IAAA,EAAgC;EAAA,IAA1BC,SAAS,GAAAD,IAAA,CAATC,SAAS;IAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;EAC7C,IAAMC,YAAY,GAAGf,MAAM,CAAC,IAAI,CAAC;EACjC,IAAAgB,SAAA,GAAsBV,QAAQ,CAAC,CAAC;IAAxBW,SAAS,GAAAD,SAAA,CAATC,SAAS;EACjB,IAAAC,SAAA,GAA8BjB,QAAQ,CAAC,KAAK,CAAC;IAAAkB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAtCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAE1B,IAAMI,gBAAgB;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,WAAOC,CAAC,EAAK;MAAA,IAAAC,eAAA;MACpC,IAAMC,IAAI,IAAAD,eAAA,GAAGD,CAAC,CAACG,MAAM,CAACC,KAAK,qBAAdH,eAAA,CAAiB,CAAC,CAAC;MAChC,IAAI,CAACC,IAAI,EAAE;MAEX,IAAI,CAACA,IAAI,CAACG,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;QACnCf,SAAS,CAAC,6BAA6B,EAAE,OAAO,CAAC;QACjD;MACF;MAEA,IAAI;QACFK,UAAU,CAAC,IAAI,CAAC;QAChB,MAAMR,QAAQ,CAACc,IAAI,CAAC;MACtB,CAAC,CAAC,OAAOK,KAAK,EAAE;QACdhB,SAAS,CAACgB,KAAK,CAACC,OAAO,EAAE,OAAO,CAAC;MACnC,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAAA,gBAjBKC,gBAAgBA,CAAAY,EAAA;MAAA,OAAAX,KAAA,CAAAY,KAAA,OAAAC,SAAA;IAAA;EAAA,GAiBrB;EAED,OACE7B,IAAA,CAACN,IAAI;IAACoC,SAAS,EAAC,KAAK;IAAAC,QAAA,EACnB7B,KAAA;MAAK4B,SAAS,EAAC,sCAAsC;MAAAC,QAAA,GACnD7B,KAAA;QAAK4B,SAAS,EAAC,+BAA+B;QAAAC,QAAA,GAC5C/B,IAAA,CAACL,MAAM;UACLqC,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQ3B,SAAS,CAAC,CAAC;UAAA,CAAC;UAC3B4B,IAAI,EAAErC,MAAO;UACbsC,QAAQ,EAAErB,OAAQ;UAAAkB,QAAA,EACnB;QAED,CAAQ,CAAC,EACT/B,IAAA,CAACL,MAAM;UACLwC,OAAO,EAAC,WAAW;UACnBH,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,IAAAI,qBAAA;YAAA,QAAAA,qBAAA,GAAQ7B,YAAY,CAAC8B,OAAO,qBAApBD,qBAAA,CAAsBE,KAAK,CAAC,CAAC;UAAA,CAAC;UAC7CL,IAAI,EAAEpC,MAAO;UACbqC,QAAQ,EAAErB,OAAQ;UAAAkB,QAAA,EACnB;QAED,CAAQ,CAAC;MAAA,CACN,CAAC,EACN/B,IAAA;QACEuC,GAAG,EAAEhC,YAAa;QAClBgB,IAAI,EAAC,MAAM;QACXiB,MAAM,EAAC,SAAS;QAChBV,SAAS,EAAC,QAAQ;QAClBW,QAAQ,EAAE1B;MAAiB,CAC5B,CAAC;IAAA,CACC;EAAC,CACF,CAAC;AAEX,CAAC;AAED,eAAeZ,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}