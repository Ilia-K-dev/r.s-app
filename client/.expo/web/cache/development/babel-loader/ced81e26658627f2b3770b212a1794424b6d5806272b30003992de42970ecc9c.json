{"ast":null,"code":"import { initializeApp } from 'firebase/app';\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore, enableIndexedDbPersistence } from 'firebase/firestore';\nimport { getStorage } from 'firebase/storage';\nfunction log(message) {\n  console.log(`[Firebase] ${message}`);\n}\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAWx_ZcWGx8XoCl-fWO8TPJi7hzDrWjQ\",\n  authDomain: \"project-reciept-reader-id.firebaseapp.com\",\n  projectId: \"project-reciept-reader-id\",\n  storageBucket: \"project-reciept-reader-id.appspot.com\",\n  messagingSenderId: \"7474182423\",\n  appId: \"1:747418219423:web:f77288088223d55c3aa\",\n  measurementId: \"G-C7KLBLG2\"\n};\nlog(\"Initializing Firebase app...\");\nvar app = initializeApp(firebaseConfig);\nlog(\"Firebase app initialized successfully\");\nvar auth = getAuth(app);\nlog(\"Auth service initialized\");\nvar db = getFirestore(app);\nlog(\"Firestore service initialized\");\nenableIndexedDbPersistence(db).then(function () {\n  log(\"Firestore offline persistence enabled\");\n}).catch(function (err) {\n  if (err.code == 'failed-precondition') {\n    log(\"Firestore persistence failed: Multiple tabs open.\");\n  } else if (err.code == 'unimplemented') {\n    log(\"Firestore persistence failed: Browser does not support persistence.\");\n  } else {\n    log(\"Firestore persistence failed:\", err);\n  }\n});\nvar storage = getStorage(app);\nlog(\"Storage service initialized\");\nexport { app, auth, db, storage };","map":{"version":3,"names":["initializeApp","getAuth","getFirestore","enableIndexedDbPersistence","getStorage","log","message","console","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","db","then","catch","err","code","storage"],"sources":["C:/Users/user/Documents/app.v3/client/src/core/config/firebase.js"],"sourcesContent":["// File: client/src/core/config/firebase.js\r\n// Date: 2025-05-10\r\n// Description: Firebase configuration and service initialization.\r\n// Reasoning: Initializes Firebase app and services (Auth, Firestore, Storage) and configures offline persistence for Firestore.\r\n// Potential Optimizations: Replace hardcoded config with environment variables for production.\r\n\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore, enableIndexedDbPersistence } from 'firebase/firestore'; // Import enableIndexedDbPersistence\r\nimport { getStorage } from 'firebase/storage';\r\n\r\n// Log configuration and initialization steps\r\nfunction log(message) {\r\n  console.log(`[Firebase] ${message}`);\r\n}\r\n\r\n// Hardcoded configuration for development only\r\n// In production, this would be replaced with environment variables\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAWx_ZcWGx8XoCl-fWO8TPJi7hzDrWjQ\",\r\n  authDomain: \"project-reciept-reader-id.firebaseapp.com\",\r\n  projectId: \"project-reciept-reader-id\",\r\n  storageBucket: \"project-reciept-reader-id.appspot.com\",\r\n  messagingSenderId: \"7474182423\",\r\n  appId: \"1:747418219423:web:f77288088223d55c3aa\",\r\n  measurementId: \"G-C7KLBLG2\"\r\n};\r\n\r\n// Initialize Firebase\r\nlog(\"Initializing Firebase app...\");\r\nconst app = initializeApp(firebaseConfig);\r\nlog(\"Firebase app initialized successfully\");\r\n\r\n// Initialize services\r\nconst auth = getAuth(app);\r\nlog(\"Auth service initialized\");\r\n\r\nconst db = getFirestore(app);\r\nlog(\"Firestore service initialized\");\r\n\r\n// Enable offline persistence for Firestore\r\n// This allows the app to work offline and sync data when back online.\r\n// The default cache size is 40 MB. Consider setting a specific cache size limit\r\n// based on expected data volume and device storage constraints if needed.\r\nenableIndexedDbPersistence(db)\r\n  .then(() => {\r\n    log(\"Firestore offline persistence enabled\");\r\n  })\r\n  .catch((err) => {\r\n    if (err.code == 'failed-precondition') {\r\n      // Multiple tabs open, persistence can only be enabled in one tab at a time.\r\n      log(\"Firestore persistence failed: Multiple tabs open.\");\r\n    } else if (err.code == 'unimplemented') {\r\n      // The current browser does not support all of the features required to enable persistence\r\n      log(\"Firestore persistence failed: Browser does not support persistence.\");\r\n    } else {\r\n      log(\"Firestore persistence failed:\", err);\r\n    }\r\n  });\r\n\r\n\r\nconst storage = getStorage(app);\r\nlog(\"Storage service initialized\");\r\n\r\n// Export Firebase services\r\nexport { app, auth, db, storage };\r\n"],"mappings":"AAMA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,OAAO,QAAQ,eAAe;AACvC,SAASC,YAAY,EAAEC,0BAA0B,QAAQ,oBAAoB;AAC7E,SAASC,UAAU,QAAQ,kBAAkB;AAG7C,SAASC,GAAGA,CAACC,OAAO,EAAE;EACpBC,OAAO,CAACF,GAAG,CAAC,cAAcC,OAAO,EAAE,CAAC;AACtC;AAIA,IAAME,cAAc,GAAG;EACrBC,MAAM,EAAE,uCAAuC;EAC/CC,UAAU,EAAE,2CAA2C;EACvDC,SAAS,EAAE,2BAA2B;EACtCC,aAAa,EAAE,uCAAuC;EACtDC,iBAAiB,EAAE,YAAY;EAC/BC,KAAK,EAAE,wCAAwC;EAC/CC,aAAa,EAAE;AACjB,CAAC;AAGDV,GAAG,CAAC,8BAA8B,CAAC;AACnC,IAAMW,GAAG,GAAGhB,aAAa,CAACQ,cAAc,CAAC;AACzCH,GAAG,CAAC,uCAAuC,CAAC;AAG5C,IAAMY,IAAI,GAAGhB,OAAO,CAACe,GAAG,CAAC;AACzBX,GAAG,CAAC,0BAA0B,CAAC;AAE/B,IAAMa,EAAE,GAAGhB,YAAY,CAACc,GAAG,CAAC;AAC5BX,GAAG,CAAC,+BAA+B,CAAC;AAMpCF,0BAA0B,CAACe,EAAE,CAAC,CAC3BC,IAAI,CAAC,YAAM;EACVd,GAAG,CAAC,uCAAuC,CAAC;AAC9C,CAAC,CAAC,CACDe,KAAK,CAAC,UAACC,GAAG,EAAK;EACd,IAAIA,GAAG,CAACC,IAAI,IAAI,qBAAqB,EAAE;IAErCjB,GAAG,CAAC,mDAAmD,CAAC;EAC1D,CAAC,MAAM,IAAIgB,GAAG,CAACC,IAAI,IAAI,eAAe,EAAE;IAEtCjB,GAAG,CAAC,qEAAqE,CAAC;EAC5E,CAAC,MAAM;IACLA,GAAG,CAAC,+BAA+B,EAAEgB,GAAG,CAAC;EAC3C;AACF,CAAC,CAAC;AAGJ,IAAME,OAAO,GAAGnB,UAAU,CAACY,GAAG,CAAC;AAC/BX,GAAG,CAAC,6BAA6B,CAAC;AAGlC,SAASW,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAEK,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}