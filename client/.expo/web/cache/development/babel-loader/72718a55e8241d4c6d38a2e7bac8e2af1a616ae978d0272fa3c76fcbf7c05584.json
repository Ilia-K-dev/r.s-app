{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport { auth } from \"../config/firebase\";\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = createContext({\n  user: null,\n  setUser: function setUser() {},\n  loading: true\n});\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    var unsubscribe = onAuthStateChanged(auth, function (user) {\n      setUser(user);\n      setLoading(false);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  var value = {\n    user: user,\n    setUser: setUser,\n    loading: loading\n  };\n  return _jsx(AuthContext.Provider, {\n    value: value,\n    children: children\n  });\n};\nexport var useAuth = function useAuth() {\n  return useContext(AuthContext);\n};","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","auth","onAuthStateChanged","jsx","_jsx","AuthContext","user","setUser","loading","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","_useState3","_useState4","setLoading","unsubscribe","value","Provider","useAuth"],"sources":["C:/Users/user/Documents/app.v3/client/src/core/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\r\nimport { auth } from '../config/firebase';\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\n\r\nexport const AuthContext = createContext({\r\n  user: null,\r\n  setUser: () => {},\r\n  loading: true\r\n});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Listen for auth state changes\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    // Clean up subscription\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Create the context value - just the state management, logic is in useAuth.js\r\n  const value = {\r\n    user,\r\n    setUser,\r\n    loading\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};\r\n\r\n// Basic hook for compatibility\r\nexport const useAuth = () => useContext(AuthContext);"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7E,SAASC,IAAI;AACb,SAASC,kBAAkB,QAAQ,eAAe;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEnD,OAAO,IAAMC,WAAW,GAAGR,aAAa,CAAC;EACvCS,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE,SAATA,OAAOA,CAAA,EAAQ,CAAC,CAAC;EACjBC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EACrC,IAAAC,SAAA,GAAwBd,QAAQ,CAAC,IAAI,CAAC;IAAAe,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BN,IAAI,GAAAO,UAAA;IAAEN,OAAO,GAAAM,UAAA;EACpB,IAAAE,UAAA,GAA8BjB,QAAQ,CAAC,IAAI,CAAC;IAAAkB,UAAA,GAAAF,cAAA,CAAAC,UAAA;IAArCP,OAAO,GAAAQ,UAAA;IAAEC,UAAU,GAAAD,UAAA;EAG1BhB,SAAS,CAAC,YAAM;IACd,IAAMkB,WAAW,GAAGhB,kBAAkB,CAACD,IAAI,EAAE,UAACK,IAAI,EAAK;MACrDC,OAAO,CAACD,IAAI,CAAC;MACbW,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;IAGF,OAAO;MAAA,OAAMC,WAAW,CAAC,CAAC;IAAA;EAC5B,CAAC,EAAE,EAAE,CAAC;EAGN,IAAMC,KAAK,GAAG;IACZb,IAAI,EAAJA,IAAI;IACJC,OAAO,EAAPA,OAAO;IACPC,OAAO,EAAPA;EACF,CAAC;EAED,OAAOJ,IAAA,CAACC,WAAW,CAACe,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAR,QAAA,EAAEA;EAAQ,CAAuB,CAAC;AAC9E,CAAC;AAGD,OAAO,IAAMU,OAAO,GAAG,SAAVA,OAAOA,CAAA;EAAA,OAAStB,UAAU,CAACM,WAAW,CAAC;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}