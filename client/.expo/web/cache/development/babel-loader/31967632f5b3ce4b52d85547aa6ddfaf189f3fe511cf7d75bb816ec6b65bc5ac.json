{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { format, parseISO, isValid, differenceInDays, differenceInMonths, differenceInYears, startOfDay, endOfDay, startOfWeek, endOfWeek, startOfMonth, endOfMonth, startOfYear, endOfYear, addDays, addMonths, subDays, subMonths, isBefore, isAfter, isEqual, isSameDay, isSameMonth, isSameYear } from 'date-fns';\nexport var formatDate = function formatDate(date) {\n  var formatStr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'MMM dd, yyyy';\n  if (!date) return '';\n  var parsedDate = typeof date === 'string' ? parseISO(date) : date;\n  if (!isValid(parsedDate)) return '';\n  return format(parsedDate, formatStr);\n};\nexport var isValidDate = function isValidDate(date) {\n  var parsedDate = new Date(date);\n  return parsedDate instanceof Date && !isNaN(parsedDate);\n};\nexport var getDateRangeOptions = function getDateRangeOptions() {\n  var today = new Date();\n  var thisMonth = {\n    start: startOfMonth(today),\n    end: endOfMonth(today)\n  };\n  var lastMonth = {\n    start: startOfMonth(subMonths(today, 1)),\n    end: endOfMonth(subMonths(today, 1))\n  };\n  var thisYear = {\n    start: startOfYear(today),\n    end: endOfYear(today)\n  };\n  return {\n    today: {\n      label: 'Today',\n      start: startOfDay(today),\n      end: endOfDay(today)\n    },\n    yesterday: {\n      label: 'Yesterday',\n      start: startOfDay(subDays(today, 1)),\n      end: endOfDay(subDays(today, 1))\n    },\n    last7Days: {\n      label: 'Last 7 days',\n      start: startOfDay(subDays(today, 6)),\n      end: endOfDay(today)\n    },\n    last30Days: {\n      label: 'Last 30 days',\n      start: startOfDay(subDays(today, 29)),\n      end: endOfDay(today)\n    },\n    thisWeek: {\n      label: 'This week',\n      start: startOfWeek(today),\n      end: endOfWeek(today)\n    },\n    thisMonth: _objectSpread({\n      label: 'This month'\n    }, thisMonth),\n    lastMonth: _objectSpread({\n      label: 'Last month'\n    }, lastMonth),\n    thisYear: _objectSpread({\n      label: 'This year'\n    }, thisYear)\n  };\n};\nexport var isWithinDateRange = function isWithinDateRange(date, startDate, endDate) {\n  var checkDate = typeof date === 'string' ? parseISO(date) : date;\n  var start = typeof startDate === 'string' ? parseISO(startDate) : startDate;\n  var end = typeof endDate === 'string' ? parseISO(endDate) : endDate;\n  if (!isValid(checkDate) || !isValid(start) || !isValid(end)) return false;\n  return (isEqual(checkDate, start) || isAfter(checkDate, start)) && (isEqual(checkDate, end) || isBefore(checkDate, end));\n};\nexport var getRelativeTimeString = function getRelativeTimeString(date) {\n  var now = new Date();\n  var parsedDate = typeof date === 'string' ? parseISO(date) : date;\n  if (!isValid(parsedDate)) return '';\n  var daysDiff = differenceInDays(now, parsedDate);\n  var monthsDiff = differenceInMonths(now, parsedDate);\n  var yearsDiff = differenceInYears(now, parsedDate);\n  if (daysDiff === 0) return 'Today';\n  if (daysDiff === 1) return 'Yesterday';\n  if (daysDiff === -1) return 'Tomorrow';\n  if (daysDiff > 0 && daysDiff <= 7) return `${daysDiff} days ago`;\n  if (daysDiff < 0 && daysDiff >= -7) return `in ${Math.abs(daysDiff)} days`;\n  if (monthsDiff === 1) return 'Last month';\n  if (monthsDiff === -1) return 'Next month';\n  if (monthsDiff > 0 && monthsDiff < 12) return `${monthsDiff} months ago`;\n  if (monthsDiff < 0 && monthsDiff > -12) return `in ${Math.abs(monthsDiff)} months`;\n  if (yearsDiff === 1) return 'Last year';\n  if (yearsDiff === -1) return 'Next year';\n  if (yearsDiff > 1) return `${yearsDiff} years ago`;\n  if (yearsDiff < -1) return `in ${Math.abs(yearsDiff)} years`;\n  return format(parsedDate, 'MMM dd, yyyy');\n};\nexport var formatDateRange = function formatDateRange(startDate, endDate) {\n  var formatStr = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'MMM dd, yyyy';\n  var start = typeof startDate === 'string' ? parseISO(startDate) : startDate;\n  var end = typeof endDate === 'string' ? parseISO(endDate) : endDate;\n  if (!isValid(start) || !isValid(end)) return '';\n  if (isSameDay(start, end)) {\n    return formatDate(start, formatStr);\n  }\n  if (isSameMonth(start, end) && isSameYear(start, end)) {\n    return `${format(start, 'MMM dd')} - ${format(end, 'dd, yyyy')}`;\n  }\n  if (isSameYear(start, end)) {\n    return `${format(start, 'MMM dd')} - ${format(end, 'MMM dd, yyyy')}`;\n  }\n  return `${formatDate(start, formatStr)} - ${formatDate(end, formatStr)}`;\n};\nexport var parseDate = function parseDate(dateString) {\n  var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (!dateString) return fallback;\n  var parsedDate = new Date(dateString);\n  return isValid(parsedDate) ? parsedDate : fallback;\n};\nexport var getMonthRange = function getMonthRange() {\n  var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n  var parsedDate = typeof date === 'string' ? parseISO(date) : date;\n  if (!isValid(parsedDate)) return {\n    start: null,\n    end: null\n  };\n  return {\n    start: startOfMonth(parsedDate),\n    end: endOfMonth(parsedDate)\n  };\n};\nexport var formatTime = function formatTime(date) {\n  var formatStr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'HH:mm';\n  var parsedDate = typeof date === 'string' ? parseISO(date) : date;\n  if (!isValid(parsedDate)) return '';\n  return format(parsedDate, formatStr);\n};\nexport var getDateParts = function getDateParts(date) {\n  var parsedDate = typeof date === 'string' ? parseISO(date) : date;\n  if (!isValid(parsedDate)) return null;\n  return {\n    year: parsedDate.getFullYear(),\n    month: parsedDate.getMonth() + 1,\n    day: parsedDate.getDate(),\n    hours: parsedDate.getHours(),\n    minutes: parsedDate.getMinutes(),\n    seconds: parsedDate.getSeconds(),\n    weekday: format(parsedDate, 'EEEE'),\n    weekNumber: format(parsedDate, 'w'),\n    quarter: Math.floor(parsedDate.getMonth() / 3) + 1,\n    dayOfYear: format(parsedDate, 'D'),\n    isWeekend: [0, 6].includes(parsedDate.getDay())\n  };\n};\nexport var compareDates = function compareDates(dateA, dateB) {\n  var parsedA = typeof dateA === 'string' ? parseISO(dateA) : dateA;\n  var parsedB = typeof dateB === 'string' ? parseISO(dateB) : dateB;\n  if (!isValid(parsedA) || !isValid(parsedB)) {\n    if (!isValid(parsedA) && !isValid(parsedB)) return 0;\n    if (!isValid(parsedA)) return 1;\n    return -1;\n  }\n  return parsedA.getTime() - parsedB.getTime();\n};\nexport var groupDatesByPeriod = function groupDatesByPeriod(dates) {\n  var period = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'month';\n  var groups = {};\n  dates.forEach(function (date) {\n    var parsedDate = typeof date === 'string' ? parseISO(date) : date;\n    if (!isValid(parsedDate)) return;\n    var key;\n    switch (period) {\n      case 'day':\n        {\n          key = format(parsedDate, 'yyyy-MM-dd');\n          break;\n        }\n      case 'week':\n        {\n          key = format(parsedDate, 'yyyy-ww');\n          break;\n        }\n      case 'month':\n        {\n          key = format(parsedDate, 'yyyy-MM');\n          break;\n        }\n      case 'quarter':\n        {\n          var quarter = Math.floor(parsedDate.getMonth() / 3) + 1;\n          key = `${parsedDate.getFullYear()}-Q${quarter}`;\n          break;\n        }\n      case 'year':\n        {\n          key = format(parsedDate, 'yyyy');\n          break;\n        }\n      default:\n        {\n          key = format(parsedDate, 'yyyy-MM-dd');\n        }\n    }\n    if (!groups[key]) {\n      groups[key] = [];\n    }\n    groups[key].push(date);\n  });\n  return groups;\n};\nexport var generateDateRange = function generateDateRange(startDate, endDate) {\n  var dates = [];\n  var currentDate = startOfDay(typeof startDate === 'string' ? parseISO(startDate) : startDate);\n  var end = endOfDay(typeof endDate === 'string' ? parseISO(endDate) : endDate);\n  if (!isValid(currentDate) || !isValid(end)) return [];\n  while (isBefore(currentDate, end) || isSameDay(currentDate, end)) {\n    dates.push(currentDate);\n    currentDate = addDays(currentDate, 1);\n  }\n  return dates;\n};\nexport var getDateDifference = function getDateDifference(startDate, endDate) {\n  var start = typeof startDate === 'string' ? parseISO(startDate) : startDate;\n  var end = typeof endDate === 'string' ? parseISO(endDate) : endDate;\n  if (!isValid(start) || !isValid(end)) return {\n    days: NaN,\n    months: NaN,\n    years: NaN\n  };\n  return {\n    days: differenceInDays(end, start),\n    months: differenceInMonths(end, start),\n    years: differenceInYears(end, start)\n  };\n};\nexport var getFiscalPeriods = function getFiscalPeriods() {\n  var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n  var fiscalYearStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var currentDate = typeof date === 'string' ? parseISO(date) : date;\n  if (!isValid(currentDate)) return {\n    fiscalYear: NaN,\n    fiscalYearStart: null,\n    fiscalYearEnd: null,\n    currentQuarter: NaN\n  };\n  var currentMonth = currentDate.getMonth();\n  var currentYear = currentDate.getFullYear();\n  var fiscalYear = currentYear;\n  if (currentMonth < fiscalYearStart) {\n    fiscalYear -= 1;\n  }\n  var fiscalYearStartDate = new Date(fiscalYear, fiscalYearStart, 1);\n  var fiscalYearEndDate = endOfMonth(addMonths(fiscalYearStartDate, 11));\n  var monthDiffFromFiscalStart = (12 + currentMonth - fiscalYearStart) % 12;\n  var currentQuarter = Math.floor(monthDiffFromFiscalStart / 3) + 1;\n  return {\n    fiscalYear: fiscalYear,\n    fiscalYearStart: fiscalYearStartDate,\n    fiscalYearEnd: fiscalYearEndDate,\n    currentQuarter: currentQuarter\n  };\n};\nexport var normalizeDate = function normalizeDate(input) {\n  if (!input) return null;\n  if (input instanceof Date) {\n    return isValid(input) ? input : null;\n  }\n  if (typeof input === 'string') {\n    var date = parseISO(input);\n    if (isValid(date)) return date;\n    var formats = ['MM/dd/yyyy', 'dd/MM/yyyy', 'yyyy/MM/dd', 'MM-dd-yyyy', 'dd-MM-yyyy', 'yyyy-MM-dd', 'MMM dd, yyyy', 'MMMM dd, yyyy'];\n    for (var formatString of formats) {\n      date = parse(input, formatString, new Date());\n      if (isValid(date)) return date;\n    }\n    date = new Date(input);\n    if (isValid(date)) return date;\n  }\n  if (typeof input === 'number') {\n    var _date = new Date(input);\n    return isValid(_date) ? _date : null;\n  }\n  return null;\n};\nexport var formatDateDuration = function formatDateDuration(startDate, endDate) {\n  var start = typeof startDate === 'string' ? parseISO(startDate) : startDate;\n  var end = typeof endDate === 'string' ? parseISO(endDate) : endDate;\n  if (!isValid(start) || !isValid(end)) return '';\n  var diff = getDateDifference(start, end);\n  if (diff.years > 0) {\n    var remainingMonths = Math.abs(differenceInMonths(end, start) % 12);\n    return `${diff.years}y ${remainingMonths}m`;\n  }\n  if (diff.months > 0) {\n    var remainingDays = Math.abs(differenceInDays(end, start) % 30);\n    return `${diff.months}m ${remainingDays}d`;\n  }\n  return `${diff.days}d`;\n};\nexport var isWeekend = function isWeekend(date) {\n  var parsedDate = typeof date === 'string' ? parseISO(date) : date;\n  if (!isValid(parsedDate)) return false;\n  var day = parsedDate.getDay();\n  return day === 0 || day === 6;\n};\nexport var getBusinessDayCount = function getBusinessDayCount(startDate, endDate) {\n  var count = 0;\n  var dates = generateDateRange(startDate, endDate);\n  dates.forEach(function (date) {\n    if (!isWeekend(date)) {\n      count++;\n    }\n  });\n  return count;\n};\nexport default {\n  formatDate: formatDate,\n  isValidDate: isValidDate,\n  getDateRangeOptions: getDateRangeOptions,\n  isWithinDateRange: isWithinDateRange,\n  getRelativeTimeString: getRelativeTimeString,\n  formatDateRange: formatDateRange,\n  parseDate: parseDate,\n  getMonthRange: getMonthRange,\n  formatTime: formatTime,\n  getDateParts: getDateParts,\n  compareDates: compareDates,\n  groupDatesByPeriod: groupDatesByPeriod,\n  generateDateRange: generateDateRange,\n  getDateDifference: getDateDifference,\n  getFiscalPeriods: getFiscalPeriods,\n  normalizeDate: normalizeDate,\n  formatDateDuration: formatDateDuration,\n  isWeekend: isWeekend,\n  getBusinessDayCount: getBusinessDayCount\n};","map":{"version":3,"names":["format","parseISO","isValid","differenceInDays","differenceInMonths","differenceInYears","startOfDay","endOfDay","startOfWeek","endOfWeek","startOfMonth","endOfMonth","startOfYear","endOfYear","addDays","addMonths","subDays","subMonths","isBefore","isAfter","isEqual","isSameDay","isSameMonth","isSameYear","formatDate","date","formatStr","arguments","length","undefined","parsedDate","isValidDate","Date","isNaN","getDateRangeOptions","today","thisMonth","start","end","lastMonth","thisYear","label","yesterday","last7Days","last30Days","thisWeek","_objectSpread","isWithinDateRange","startDate","endDate","checkDate","getRelativeTimeString","now","daysDiff","monthsDiff","yearsDiff","Math","abs","formatDateRange","parseDate","dateString","fallback","getMonthRange","formatTime","getDateParts","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","weekday","weekNumber","quarter","floor","dayOfYear","isWeekend","includes","getDay","compareDates","dateA","dateB","parsedA","parsedB","getTime","groupDatesByPeriod","dates","period","groups","forEach","key","push","generateDateRange","currentDate","getDateDifference","days","NaN","months","years","getFiscalPeriods","fiscalYearStart","fiscalYear","fiscalYearEnd","currentQuarter","currentMonth","currentYear","fiscalYearStartDate","fiscalYearEndDate","monthDiffFromFiscalStart","normalizeDate","input","formats","formatString","parse","formatDateDuration","diff","remainingMonths","remainingDays","getBusinessDayCount","count"],"sources":["C:/Users/user/Documents/app.v3/client/src/shared/utils/date.js"],"sourcesContent":["import {\r\n  format,\r\n  parseISO,\r\n  isValid,\r\n  differenceInDays,\r\n  differenceInMonths,\r\n  differenceInYears,\r\n  startOfDay,\r\n  endOfDay,\r\n  startOfWeek,\r\n  endOfWeek,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  startOfYear,\r\n  endOfYear,\r\n  addDays,\r\n  addMonths,\r\n  subDays,\r\n  subMonths,\r\n  isBefore,\r\n  isAfter,\r\n  isEqual,\r\n  isSameDay,\r\n  isSameMonth,\r\n  isSameYear,\r\n} from 'date-fns';\r\n\r\n/**\r\n * @desc Formats a date object or string into a specified format string using date-fns.\r\n * @param {Date|string} date - The date to format. Can be a Date object or an ISO 8601 string.\r\n * @param {string} [formatStr='MMM dd, yyyy'] - The format string (e.g., 'yyyy-MM-dd', 'HH:mm').\r\n * @returns {string} - The formatted date string. Returns empty string if the input is invalid.\r\n */\r\nexport const formatDate = (date, formatStr = 'MMM dd, yyyy') => {\r\n  if (!date) return '';\r\n\r\n  const parsedDate = typeof date === 'string' ? parseISO(date) : date;\r\n  if (!isValid(parsedDate)) return '';\r\n\r\n  return format(parsedDate, formatStr);\r\n};\r\n\r\n/**\r\n * @desc Checks if a given value is a valid Date object.\r\n * @param {*} date - The value to check.\r\n * @returns {boolean} - True if the value is a valid Date object, false otherwise.\r\n */\r\nexport const isValidDate = date => {\r\n  const parsedDate = new Date(date);\r\n  return parsedDate instanceof Date && !isNaN(parsedDate);\r\n};\r\n\r\n/**\r\n * @desc Gets predefined date range options relative to today.\r\n * @returns {object} - An object containing various date range options (today, yesterday, last 7 days, etc.) with start and end Date objects.\r\n */\r\nexport const getDateRangeOptions = () => {\r\n  const today = new Date();\r\n\r\n  const thisMonth = {\r\n    start: startOfMonth(today),\r\n    end: endOfMonth(today),\r\n  };\r\n\r\n  const lastMonth = {\r\n    start: startOfMonth(subMonths(today, 1)),\r\n    end: endOfMonth(subMonths(today, 1)),\r\n  };\r\n\r\n  const thisYear = {\r\n    start: startOfYear(today),\r\n    end: endOfYear(today),\r\n  };\r\n\r\n  return {\r\n    today: {\r\n      label: 'Today',\r\n      start: startOfDay(today),\r\n      end: endOfDay(today),\r\n    },\r\n    yesterday: {\r\n      label: 'Yesterday',\r\n      start: startOfDay(subDays(today, 1)),\r\n      end: endOfDay(subDays(today, 1)),\r\n    },\r\n    last7Days: {\r\n      label: 'Last 7 days',\r\n      start: startOfDay(subDays(today, 6)),\r\n      end: endOfDay(today),\r\n    },\r\n    last30Days: {\r\n      label: 'Last 30 days',\r\n      start: startOfDay(subDays(today, 29)),\r\n      end: endOfDay(today),\r\n    },\r\n    thisWeek: {\r\n      label: 'This week',\r\n      start: startOfWeek(today),\r\n      end: endOfWeek(today),\r\n    },\r\n    thisMonth: {\r\n      label: 'This month',\r\n      ...thisMonth,\r\n    },\r\n    lastMonth: {\r\n      label: 'Last month',\r\n      ...lastMonth,\r\n    },\r\n    thisYear: {\r\n      label: 'This year',\r\n      ...thisYear,\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * @desc Checks if a given date falls within a specified date range (inclusive).\r\n * @param {Date|string} date - The date to check.\r\n * @param {Date|string} startDate - The start date of the range.\r\n * @param {Date|string} endDate - The end date of the range.\r\n * @returns {boolean} - True if the date is within the range, false otherwise.\r\n */\r\nexport const isWithinDateRange = (date, startDate, endDate) => {\r\n  const checkDate = typeof date === 'string' ? parseISO(date) : date;\r\n  const start = typeof startDate === 'string' ? parseISO(startDate) : startDate;\r\n  const end = typeof endDate === 'string' ? parseISO(endDate) : endDate;\r\n\r\n  if (!isValid(checkDate) || !isValid(start) || !isValid(end)) return false;\r\n\r\n  return (\r\n    (isEqual(checkDate, start) || isAfter(checkDate, start)) &&\r\n    (isEqual(checkDate, end) || isBefore(checkDate, end))\r\n  );\r\n};\r\n\r\n/**\r\n * @desc Gets a relative time string for a given date compared to the current date.\r\n * (e.g., \"Today\", \"Yesterday\", \"3 days ago\", \"in 2 months\").\r\n * @param {Date|string} date - The date to get the relative time for.\r\n * @returns {string} - The relative time string.\r\n */\r\nexport const getRelativeTimeString = date => {\r\n  const now = new Date();\r\n  const parsedDate = typeof date === 'string' ? parseISO(date) : date;\r\n\r\n  if (!isValid(parsedDate)) return '';\r\n\r\n  const daysDiff = differenceInDays(now, parsedDate);\r\n  const monthsDiff = differenceInMonths(now, parsedDate);\r\n  const yearsDiff = differenceInYears(now, parsedDate); // Corrected variable name\r\n\r\n  if (daysDiff === 0) return 'Today';\r\n  if (daysDiff === 1) return 'Yesterday';\r\n  if (daysDiff === -1) return 'Tomorrow';\r\n  if (daysDiff > 0 && daysDiff <= 7) return `${daysDiff} days ago`;\r\n  if (daysDiff < 0 && daysDiff >= -7) return `in ${Math.abs(daysDiff)} days`;\r\n\r\n  if (monthsDiff === 1) return 'Last month';\r\n  if (monthsDiff === -1) return 'Next month';\r\n  if (monthsDiff > 0 && monthsDiff < 12) return `${monthsDiff} months ago`;\r\n  if (monthsDiff < 0 && monthsDiff > -12) return `in ${Math.abs(monthsDiff)} months`;\r\n\r\n  if (yearsDiff === 1) return 'Last year';\r\n  if (yearsDiff === -1) return 'Next year';\r\n  if (yearsDiff > 1) return `${yearsDiff} years ago`;\r\n  if (yearsDiff < -1) return `in ${Math.abs(yearsDiff)} years`;\r\n\r\n  // Fallback for dates far in the past or future\r\n  return format(parsedDate, 'MMM dd, yyyy');\r\n};\r\n\r\n/**\r\n * @desc Formats a date range into a concise string.\r\n * @param {Date|string} startDate - The start date of the range.\r\n * @param {Date|string} endDate - The end date of the range.\r\n * @param {string} [formatStr='MMM dd, yyyy'] - The format string for individual dates if the range spans across months/years.\r\n * @returns {string} - The formatted date range string.\r\n */\r\nexport const formatDateRange = (startDate, endDate, formatStr = 'MMM dd, yyyy') => {\r\n  const start = typeof startDate === 'string' ? parseISO(startDate) : startDate;\r\n  const end = typeof endDate === 'string' ? parseISO(endDate) : endDate;\r\n\r\n  if (!isValid(start) || !isValid(end)) return '';\r\n\r\n  if (isSameDay(start, end)) {\r\n    return formatDate(start, formatStr);\r\n  }\r\n\r\n  if (isSameMonth(start, end) && isSameYear(start, end)) {\r\n    return `${format(start, 'MMM dd')} - ${format(end, 'dd, yyyy')}`;\r\n  }\r\n\r\n  if (isSameYear(start, end)) {\r\n    return `${format(start, 'MMM dd')} - ${format(end, 'MMM dd, yyyy')}`;\r\n  }\r\n\r\n  return `${formatDate(start, formatStr)} - ${formatDate(end, formatStr)}`;\r\n};\r\n\r\n/**\r\n * @desc Parses a date string into a Date object with a fallback value.\r\n * @param {string} dateString - The date string to parse.\r\n * @param {Date|null} [fallback=null] - The value to return if parsing fails.\r\n * @returns {Date|null} - The parsed Date object or the fallback value.\r\n */\r\nexport const parseDate = (dateString, fallback = null) => {\r\n  if (!dateString) return fallback;\r\n\r\n  const parsedDate = new Date(dateString);\r\n  return isValid(parsedDate) ? parsedDate : fallback;\r\n};\r\n\r\n/**\r\n * @desc Gets the start and end Date objects for the month of a given date.\r\n * @param {Date|string} [date=new Date()] - The date within the desired month.\r\n * @returns {{start: Date, end: Date}} - An object containing the start and end dates of the month.\r\n */\r\nexport const getMonthRange = (date = new Date()) => {\r\n  const parsedDate = typeof date === 'string' ? parseISO(date) : date;\r\n  if (!isValid(parsedDate)) return { start: null, end: null };\r\n  return {\r\n    start: startOfMonth(parsedDate),\r\n    end: endOfMonth(parsedDate),\r\n  };\r\n};\r\n\r\n/**\r\n * @desc Formats the time part of a date object or string into a specified format string.\r\n * @param {Date|string} date - The date to format the time from.\r\n * @param {string} [formatStr='HH:mm'] - The format string for the time.\r\n * @returns {string} - The formatted time string. Returns empty string if the input is invalid.\r\n */\r\nexport const formatTime = (date, formatStr = 'HH:mm') => {\r\n  const parsedDate = typeof date === 'string' ? parseISO(date) : date;\r\n  if (!isValid(parsedDate)) return '';\r\n  return format(parsedDate, formatStr);\r\n};\r\n\r\n/**\r\n * @desc Extracts various date parts from a date object.\r\n * @param {Date|string} date - The date to extract parts from.\r\n * @returns {object|null} - An object containing various date parts (year, month, day, etc.), or null if the input is invalid.\r\n */\r\nexport const getDateParts = date => {\r\n  const parsedDate = typeof date === 'string' ? parseISO(date) : date;\r\n  if (!isValid(parsedDate)) return null;\r\n\r\n  return {\r\n    year: parsedDate.getFullYear(),\r\n    month: parsedDate.getMonth() + 1,\r\n    day: parsedDate.getDate(),\r\n    hours: parsedDate.getHours(),\r\n    minutes: parsedDate.getMinutes(),\r\n    seconds: parsedDate.getSeconds(),\r\n    weekday: format(parsedDate, 'EEEE'),\r\n    weekNumber: format(parsedDate, 'w'),\r\n    quarter: Math.floor(parsedDate.getMonth() / 3) + 1,\r\n    dayOfYear: format(parsedDate, 'D'),\r\n    isWeekend: [0, 6].includes(parsedDate.getDay()),\r\n  };\r\n};\r\n\r\n/**\r\n * @desc Compares two dates for sorting purposes.\r\n * @param {Date|string} dateA - The first date.\r\n * @param {Date|string} dateB - The second date.\r\n * @returns {number} - A negative value if dateA is before dateB, a positive value if dateA is after dateB, and 0 if they are equal.\r\n */\r\nexport const compareDates = (dateA, dateB) => {\r\n  const parsedA = typeof dateA === 'string' ? parseISO(dateA) : dateA;\r\n  const parsedB = typeof dateB === 'string' ? parseISO(dateB) : dateB;\r\n\r\n  if (!isValid(parsedA) || !isValid(parsedB)) {\r\n      // Handle invalid dates, perhaps by placing them at the end or beginning\r\n      if (!isValid(parsedA) && !isValid(parsedB)) return 0;\r\n      if (!isValid(parsedA)) return 1; // Invalid A comes after valid B\r\n      return -1; // Valid A comes before invalid B\r\n  }\r\n\r\n  return parsedA.getTime() - parsedB.getTime();\r\n};\r\n\r\n/**\r\n * @desc Groups an array of dates by a specified period (day, week, month, quarter, year).\r\n * @param {Array<Date|string>} dates - The array of dates to group.\r\n * @param {'day'|'week'|'month'|'quarter'|'year'} [period='month'] - The period to group by.\r\n * @returns {object} - An object where keys are the period identifiers (e.g., 'YYYY-MM', 'YYYY-ww') and values are arrays of dates within that period.\r\n */\r\nexport const groupDatesByPeriod = (dates, period = 'month') => {\r\n  const groups = {};\r\n\r\n  dates.forEach(date => {\r\n    const parsedDate = typeof date === 'string' ? parseISO(date) : date;\r\n    if (!isValid(parsedDate)) return; // Skip invalid dates\r\n\r\n    let key;\r\n\r\n    switch (period) {\r\n      case 'day': {\r\n        key = format(parsedDate, 'yyyy-MM-dd');\r\n        break;\r\n      }\r\n      case 'week': {\r\n        key = format(parsedDate, 'yyyy-ww'); // ISO week of year\r\n        break;\r\n      }\r\n      case 'month': {\r\n        key = format(parsedDate, 'yyyy-MM');\r\n        break;\r\n      }\r\n      case 'quarter': {\r\n        const quarter = Math.floor(parsedDate.getMonth() / 3) + 1;\r\n        key = `${parsedDate.getFullYear()}-Q${quarter}`;\r\n        break;\r\n      }\r\n      case 'year': {\r\n        key = format(parsedDate, 'yyyy');\r\n        break;\r\n      }\r\n      default: {\r\n        key = format(parsedDate, 'yyyy-MM-dd');\r\n      }\r\n    }\r\n\r\n    if (!groups[key]) {\r\n      groups[key] = [];\r\n    }\r\n    groups[key].push(date);\r\n  });\r\n\r\n  return groups;\r\n};\r\n\r\n/**\r\n * @desc Generates an array of dates within a specified date range (inclusive).\r\n * @param {Date|string} startDate - The start date of the range.\r\n * @param {Date|string} endDate - The end date of the range.\r\n * @returns {Array<Date>} - An array of Date objects within the range.\r\n */\r\nexport const generateDateRange = (startDate, endDate) => {\r\n  const dates = [];\r\n  let currentDate = startOfDay(typeof startDate === 'string' ? parseISO(startDate) : startDate);\r\n  const end = endOfDay(typeof endDate === 'string' ? parseISO(endDate) : endDate);\r\n\r\n  if (!isValid(currentDate) || !isValid(end)) return [];\r\n\r\n  while (isBefore(currentDate, end) || isSameDay(currentDate, end)) {\r\n    dates.push(currentDate);\r\n    currentDate = addDays(currentDate, 1);\r\n  }\r\n\r\n  return dates;\r\n};\r\n\r\n/**\r\n * @desc Calculates the difference between two dates in days, months, and years.\r\n * @param {Date|string} startDate - The start date.\r\n * @param {Date|string} endDate - The end date.\r\n * @returns {{days: number, months: number, years: number}} - An object containing the difference in days, months, and years.\r\n */\r\nexport const getDateDifference = (startDate, endDate) => {\r\n  const start = typeof startDate === 'string' ? parseISO(startDate) : startDate;\r\n  const end = typeof endDate === 'string' ? parseISO(endDate) : endDate;\r\n\r\n  if (!isValid(start) || !isValid(end)) return { days: NaN, months: NaN, years: NaN };\r\n\r\n  return {\r\n    days: differenceInDays(end, start),\r\n    months: differenceInMonths(end, start),\r\n    years: differenceInYears(end, start),\r\n  };\r\n};\r\n\r\n/**\r\n * @desc Gets fiscal period information for a given date.\r\n * @param {Date|string} [date=new Date()] - The date to get fiscal period information for.\r\n * @param {number} [fiscalYearStart=0] - The month (0-11) that the fiscal year starts in.\r\n * @returns {object} - An object containing fiscal year, start/end dates, and current quarter.\r\n */\r\nexport const getFiscalPeriods = (date = new Date(), fiscalYearStart = 0) => {\r\n  const currentDate = typeof date === 'string' ? parseISO(date) : date;\r\n  if (!isValid(currentDate)) return { fiscalYear: NaN, fiscalYearStart: null, fiscalYearEnd: null, currentQuarter: NaN };\r\n\r\n  const currentMonth = currentDate.getMonth();\r\n  const currentYear = currentDate.getFullYear();\r\n\r\n  let fiscalYear = currentYear;\r\n  if (currentMonth < fiscalYearStart) {\r\n    fiscalYear -= 1;\r\n  }\r\n\r\n  const fiscalYearStartDate = new Date(fiscalYear, fiscalYearStart, 1);\r\n  const fiscalYearEndDate = endOfMonth(addMonths(fiscalYearStartDate, 11));\r\n\r\n  const monthDiffFromFiscalStart = (12 + currentMonth - fiscalYearStart) % 12;\r\n  const currentQuarter = Math.floor(monthDiffFromFiscalStart / 3) + 1;\r\n\r\n\r\n  return {\r\n    fiscalYear,\r\n    fiscalYearStart: fiscalYearStartDate,\r\n    fiscalYearEnd: fiscalYearEndDate,\r\n    currentQuarter,\r\n  };\r\n};\r\n\r\n/**\r\n * @desc Parses and normalizes a date input (string, number, or Date object) into a valid Date object.\r\n * Tries multiple formats for strings.\r\n * @param {*} input - The date input.\r\n * @returns {Date|null} - The normalized Date object, or null if parsing fails.\r\n */\r\nexport const normalizeDate = input => {\r\n  if (!input) return null;\r\n\r\n  if (input instanceof Date) {\r\n    return isValid(input) ? input : null;\r\n  }\r\n\r\n  if (typeof input === 'string') {\r\n    // Try ISO format first\r\n    let date = parseISO(input);\r\n    if (isValid(date)) return date;\r\n\r\n    // Try other common formats (add more as needed)\r\n    const formats = [\r\n      'MM/dd/yyyy',\r\n      'dd/MM/yyyy',\r\n      'yyyy/MM/dd',\r\n      'MM-dd-yyyy',\r\n      'dd-MM-yyyy',\r\n      'yyyy-MM-dd',\r\n      'MMM dd, yyyy', // e.g., Jan 01, 2023\r\n      'MMMM dd, yyyy', // e.g., January 01, 2023\r\n    ];\r\n\r\n    for (const formatString of formats) {\r\n        date = parse(input, formatString, new Date());\r\n        if (isValid(date)) return date;\r\n    }\r\n\r\n    // Fallback to new Date() constructor for other formats\r\n    date = new Date(input);\r\n    if (isValid(date)) return date;\r\n  }\r\n\r\nif (typeof input === 'number') {\r\n    // Assume timestamp in milliseconds\r\n    const date = new Date(input);\r\n    return isValid(date) ? date : null;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\n/**\r\n * @desc Formats the duration between two dates into a human-readable string (e.g., \"1y 3m\", \"6m 15d\", \"10d\").\r\n * @param {Date|string} startDate - The start date.\r\n * @param {Date|string} endDate - The end date.\r\n * @returns {string} - The formatted duration string.\r\n */\r\nexport const formatDateDuration = (startDate, endDate) => {\r\n  const start = typeof startDate === 'string' ? parseISO(startDate) : startDate;\r\n  const end = typeof endDate === 'string' ? parseISO(endDate) : endDate;\r\n\r\n  if (!isValid(start) || !isValid(end)) return '';\r\n\r\n  const diff = getDateDifference(start, end);\r\n\r\n  if (diff.years > 0) {\r\n    const remainingMonths = Math.abs(differenceInMonths(end, start) % 12);\r\n    return `${diff.years}y ${remainingMonths}m`;\r\n  }\r\n  if (diff.months > 0) {\r\n     const remainingDays = Math.abs(differenceInDays(end, start) % 30); // Approximate days in a month\r\n    return `${diff.months}m ${remainingDays}d`;\r\n  }\r\n  return `${diff.days}d`;\r\n};\r\n\r\n/**\r\n * @desc Check if a date falls on a weekend (Saturday or Sunday).\r\n * @param {Date|string} date - The date to check.\r\n * @returns {boolean} - True if the date is on a weekend, false otherwise.\r\n */\r\nexport const isWeekend = date => {\r\n  const parsedDate = typeof date === 'string' ? parseISO(date) : date;\r\n  if (!isValid(parsedDate)) return false;\r\n  const day = parsedDate.getDay();\r\n  return day === 0 || day === 6;\r\n};\r\n\r\n/**\r\n * @desc Get the count of business days (excluding weekends) between two dates.\r\n * @param {Date|string} startDate - The start date.\r\n * @param {Date|string} endDate - The end date.\r\n * @returns {number} - The number of business days.\r\n */\r\nexport const getBusinessDayCount = (startDate, endDate) => {\r\n  let count = 0;\r\n  const dates = generateDateRange(startDate, endDate);\r\n\r\n  dates.forEach(date => {\r\n    if (!isWeekend(date)) {\r\n      count++;\r\n    }\r\n  });\r\n\r\n  return count;\r\n};\r\n\r\nexport default {\r\n  formatDate,\r\n  isValidDate,\r\n  getDateRangeOptions,\r\n  isWithinDateRange,\r\n  getRelativeTimeString,\r\n  formatDateRange,\r\n  parseDate,\r\n  getMonthRange,\r\n  formatTime,\r\n  getDateParts,\r\n  compareDates,\r\n  groupDatesByPeriod,\r\n  generateDateRange,\r\n  getDateDifference,\r\n  getFiscalPeriods,\r\n  normalizeDate,\r\n  formatDateDuration,\r\n  isWeekend,\r\n  getBusinessDayCount,\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}