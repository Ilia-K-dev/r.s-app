{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { Plus } from 'lucide-react';\nimport React, { useState, useEffect } from 'react';\nimport { ReceiptFilters } from \"../../features/receipts/components//ReceiptFilters\";\nimport ReceiptForm from \"../../features/receipts/components/ReceiptForm\";\nimport ReceiptList from \"../../features/receipts/components/ReceiptList\";\nimport { ReceiptUploader } from \"../../features/receipts/components/ReceiptUploader\";\nimport { useReceipts } from \"../../features/receipts/hooks/useReceipts\";\nimport { Button } from \"../../shared/components/forms/Button\";\nimport { Modal } from \"../../shared/components/ui/Modal\";\nimport { useToast } from \"../../shared/hooks/useToast\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var ReceiptsPage = function ReceiptsPage() {\n  var _useReceipts = useReceipts(),\n    receipts = _useReceipts.receipts,\n    loading = _useReceipts.loading,\n    error = _useReceipts.error,\n    fetchReceipts = _useReceipts.fetchReceipts;\n  var _useToast = useToast(),\n    showToast = _useToast.showToast;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFormOpen = _useState2[0],\n    setIsFormOpen = _useState2[1];\n  var _useState3 = useState({\n      search: '',\n      dateRange: '',\n      category: '',\n      sortBy: 'date_desc'\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    filters = _useState4[0],\n    setFilters = _useState4[1];\n  var handleFilterChange = function handleFilterChange(newFilters) {\n    setFilters(newFilters);\n    fetchReceipts(newFilters);\n  };\n  var handleResetFilters = function handleResetFilters() {\n    setFilters({\n      search: '',\n      dateRange: '',\n      category: '',\n      sortBy: 'date_desc'\n    });\n    fetchReceipts();\n  };\n  var handleUploadSuccess = function handleUploadSuccess() {\n    showToast('Receipt uploaded successfully', 'success');\n    fetchReceipts(filters);\n  };\n  return _jsxs(\"div\", {\n    className: \"space-y-6\",\n    children: [_jsxs(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [_jsx(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Receipts\"\n      }), _jsx(Button, {\n        onClick: function onClick() {\n          return setIsFormOpen(true);\n        },\n        icon: Plus,\n        children: \"Add Receipt\"\n      })]\n    }), _jsx(ReceiptUploader, {\n      onUploadSuccess: handleUploadSuccess\n    }), _jsx(ReceiptFilters, {\n      filters: filters,\n      onChange: handleFilterChange,\n      onReset: handleResetFilters\n    }), _jsx(ReceiptList, {\n      receipts: receipts,\n      loading: loading,\n      error: error\n    }), _jsx(Modal, {\n      isOpen: isFormOpen,\n      onClose: function onClose() {\n        return setIsFormOpen(false);\n      },\n      title: \"Add Receipt\",\n      children: _jsx(ReceiptForm, {\n        addReceipt: useReceipts().addReceipt,\n        onSubmit: (function () {\n          var _ref = _asyncToGenerator(function* (data) {\n            try {\n              showToast('Receipt added successfully', 'success');\n              setIsFormOpen(false);\n              fetchReceipts(filters);\n            } catch (error) {\n              showToast(error.message, 'error');\n            }\n          });\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }()),\n        onCancel: function onCancel() {\n          return setIsFormOpen(false);\n        }\n      })\n    })]\n  });\n};","map":{"version":3,"names":["Plus","React","useState","useEffect","ReceiptFilters","ReceiptForm","ReceiptList","ReceiptUploader","useReceipts","Button","Modal","useToast","jsx","_jsx","jsxs","_jsxs","ReceiptsPage","_useReceipts","receipts","loading","error","fetchReceipts","_useToast","showToast","_useState","_useState2","_slicedToArray","isFormOpen","setIsFormOpen","_useState3","search","dateRange","category","sortBy","_useState4","filters","setFilters","handleFilterChange","newFilters","handleResetFilters","handleUploadSuccess","className","children","onClick","icon","onUploadSuccess","onChange","onReset","isOpen","onClose","title","addReceipt","onSubmit","_ref","_asyncToGenerator","data","message","_x","apply","arguments","onCancel"],"sources":["C:/Users/user/Documents/app.v3/client/src/core/pages/ReceiptsPage.js"],"sourcesContent":["import { Plus } from 'lucide-react'; //correct\r\nimport React, { useState, useEffect } from 'react'; //correct\r\n\r\nimport { ReceiptFilters } from '../../features/receipts/components//ReceiptFilters'; //correct\r\nimport ReceiptForm from '../../features/receipts/components/ReceiptForm'; //correct\r\nimport ReceiptList from '../../features/receipts/components/ReceiptList'; //correct\r\nimport { ReceiptUploader } from '../../features/receipts/components/ReceiptUploader';\r\nimport { useReceipts } from '../../features/receipts/hooks/useReceipts'; //correct\r\nimport { Button } from '../../shared/components/forms/Button'; //correct\r\nimport { Modal } from '../../shared/components/ui/Modal'; //correct\r\nimport { useToast } from '../../shared/hooks/useToast';\r\n\r\nexport const ReceiptsPage = () => {\r\n  const { receipts, loading, error, fetchReceipts } = useReceipts();\r\n  const { showToast } = useToast();\r\n  const [isFormOpen, setIsFormOpen] = useState(false);\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    dateRange: '',\r\n    category: '',\r\n    sortBy: 'date_desc',\r\n  });\r\n\r\n  const handleFilterChange = newFilters => {\r\n    setFilters(newFilters);\r\n    fetchReceipts(newFilters);\r\n  };\r\n\r\n  const handleResetFilters = () => {\r\n    setFilters({\r\n      search: '',\r\n      dateRange: '',\r\n      category: '',\r\n      sortBy: 'date_desc',\r\n    });\r\n    fetchReceipts();\r\n  };\r\n\r\n  const handleUploadSuccess = () => {\r\n    showToast('Receipt uploaded successfully', 'success');\r\n    fetchReceipts(filters);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Receipts</h1>\r\n        <Button onClick={() => setIsFormOpen(true)} icon={Plus}>\r\n          Add Receipt\r\n        </Button>\r\n      </div>\r\n\r\n      <ReceiptUploader onUploadSuccess={handleUploadSuccess} />\r\n\r\n      <ReceiptFilters\r\n        filters={filters}\r\n        onChange={handleFilterChange}\r\n        onReset={handleResetFilters}\r\n      />\r\n\r\n      <ReceiptList receipts={receipts} loading={loading} error={error} />\r\n\r\n      <Modal isOpen={isFormOpen} onClose={() => setIsFormOpen(false)} title=\"Add Receipt\">\r\n        <ReceiptForm\r\n          addReceipt={useReceipts().addReceipt}\r\n          onSubmit={async data => {\r\n            try {\r\n              showToast('Receipt added successfully', 'success');\r\n              setIsFormOpen(false);\r\n              fetchReceipts(filters);\r\n            } catch (error) {\r\n              showToast(error.message, 'error');\r\n            }\r\n          }}\r\n          onCancel={() => setIsFormOpen(false)}\r\n        />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}