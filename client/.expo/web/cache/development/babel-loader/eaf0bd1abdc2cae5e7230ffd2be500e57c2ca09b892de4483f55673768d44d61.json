{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport { Card } from \"../../../shared/components/ui/Card\";\nimport Button from \"../../../shared/components/ui/Button\";\nimport { Dropdown } from \"../../../shared/components/forms/Dropdown\";\nimport { Alert } from \"../../../shared/components/ui/Alert\";\nimport { Loading } from \"../../../shared/components/ui/Loading\";\nimport { SpendingChart } from \"../components/SpendingChart\";\nimport { CategoryBreakdown } from \"../components/CategoryBreakdown\";\nimport { SpendingTrends } from \"../components/SpendingTrends\";\nimport { useReceipts } from \"../../receipts/hooks/useReceipts\";\nimport { ChevronDown, Calendar, Printer, Download } from 'lucide-react';\nimport { formatDate } from \"../../../shared/utils/date\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ReportsPage = function ReportsPage() {\n  var _useReceipts = useReceipts(),\n    receipts = _useReceipts.receipts,\n    loading = _useReceipts.loading,\n    error = _useReceipts.error;\n  var _useState = useState('month'),\n    _useState2 = _slicedToArray(_useState, 2),\n    timeframe = _useState2[0],\n    setTimeframe = _useState2[1];\n  var timeframeOptions = [{\n    value: 'week',\n    label: 'Last 7 Days'\n  }, {\n    value: 'month',\n    label: 'Last 30 Days'\n  }, {\n    value: 'quarter',\n    label: 'Last 3 Months'\n  }, {\n    value: 'year',\n    label: 'Last 12 Months'\n  }];\n  var handlePrint = function handlePrint() {\n    window.print();\n  };\n  var handleExport = function handleExport() {\n    alert('Export functionality would go here');\n  };\n  if (loading) {\n    return _jsx(\"div\", {\n      className: \"flex justify-center items-center py-12\",\n      children: _jsx(Loading, {\n        size: \"lg\"\n      })\n    });\n  }\n  if (error) {\n    return _jsx(Alert, {\n      type: \"error\",\n      message: error\n    });\n  }\n  var today = new Date();\n  var startDate = new Date(today);\n  switch (timeframe) {\n    case 'week':\n      startDate.setDate(today.getDate() - 7);\n      break;\n    case 'month':\n      startDate.setDate(today.getDate() - 30);\n      break;\n    case 'quarter':\n      startDate.setDate(today.getDate() - 90);\n      break;\n    case 'year':\n      startDate.setDate(today.getDate() - 365);\n      break;\n    default:\n      startDate.setDate(today.getDate() - 30);\n  }\n  var filteredReceipts = receipts.filter(function (receipt) {\n    var receiptDate = new Date(receipt.date);\n    return receiptDate >= startDate && receiptDate <= today;\n  });\n  return _jsxs(\"div\", {\n    className: \"space-y-6\",\n    children: [_jsxs(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [_jsx(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Reports & Analytics\"\n      }), _jsxs(\"div\", {\n        className: \"flex space-x-2\",\n        children: [_jsx(Dropdown, {\n          options: timeframeOptions,\n          value: timeframe,\n          onChange: setTimeframe\n        }), _jsx(Button, {\n          variant: \"secondary\",\n          icon: Printer,\n          onClick: handlePrint,\n          children: \"Print\"\n        }), _jsx(Button, {\n          variant: \"secondary\",\n          icon: Download,\n          onClick: handleExport,\n          children: \"Export\"\n        })]\n      })]\n    }), _jsxs(Card, {\n      className: \"p-6\",\n      children: [_jsxs(\"div\", {\n        className: \"mb-4\",\n        children: [_jsx(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: \"Spending Overview\"\n        }), _jsxs(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: [formatDate(startDate), \" - \", formatDate(today)]\n        })]\n      }), _jsx(\"div\", {\n        className: \"h-80\",\n        children: _jsx(SpendingChart, {\n          data: filteredReceipts\n        })\n      })]\n    }), _jsxs(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n      children: [_jsxs(Card, {\n        className: \"p-6\",\n        children: [_jsx(\"h2\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Spending by Category\"\n        }), _jsx(\"div\", {\n          className: \"h-80\",\n          children: _jsx(CategoryBreakdown, {\n            data: filteredReceipts\n          })\n        })]\n      }), _jsxs(Card, {\n        className: \"p-6\",\n        children: [_jsx(\"h2\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Spending Trends\"\n        }), _jsx(\"div\", {\n          className: \"h-80\",\n          children: _jsx(SpendingTrends, {\n            data: filteredReceipts,\n            timeframe: timeframe\n          })\n        })]\n      })]\n    })]\n  });\n};\nexport default ReportsPage;","map":{"version":3,"names":["React","useState","Card","Button","Dropdown","Alert","Loading","SpendingChart","CategoryBreakdown","SpendingTrends","useReceipts","ChevronDown","Calendar","Printer","Download","formatDate","jsx","_jsx","jsxs","_jsxs","ReportsPage","_useReceipts","receipts","loading","error","_useState","_useState2","_slicedToArray","timeframe","setTimeframe","timeframeOptions","value","label","handlePrint","window","print","handleExport","alert","className","children","size","type","message","today","Date","startDate","setDate","getDate","filteredReceipts","filter","receipt","receiptDate","date","options","onChange","variant","icon","onClick","data"],"sources":["C:/Users/user/Documents/app.v3/client/src/features/analytics/pages/ReportsPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Card } from '../../../shared/components/ui/Card';\r\nimport Button from '../../../shared/components/ui/Button';\r\nimport { Dropdown } from '../../../shared/components/forms/Dropdown';\r\nimport { Alert } from '../../../shared/components/ui/Alert';\r\nimport { Loading } from '../../../shared/components/ui/Loading';\r\nimport { SpendingChart } from '../components/SpendingChart';\r\nimport { CategoryBreakdown } from '../components/CategoryBreakdown';\r\nimport { SpendingTrends } from '../components/SpendingTrends';\r\nimport { useReceipts } from '../../receipts/hooks/useReceipts';\r\nimport { ChevronDown, Calendar, Printer, Download } from 'lucide-react';\r\nimport { formatDate } from '../../../shared/utils/date';\r\n\r\nconst ReportsPage = () => {\r\n  const { receipts, loading, error } = useReceipts();\r\n  const [timeframe, setTimeframe] = useState('month');\r\n  \r\n  const timeframeOptions = [\r\n    { value: 'week', label: 'Last 7 Days' },\r\n    { value: 'month', label: 'Last 30 Days' },\r\n    { value: 'quarter', label: 'Last 3 Months' },\r\n    { value: 'year', label: 'Last 12 Months' }\r\n  ];\r\n  \r\n  const handlePrint = () => {\r\n    window.print();\r\n  };\r\n  \r\n  const handleExport = () => {\r\n    // In a real app, this would generate and download a report\r\n    alert('Export functionality would go here');\r\n  };\r\n  \r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center py-12\">\r\n        <Loading size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (error) {\r\n    return <Alert type=\"error\" message={error} />;\r\n  }\r\n  \r\n  const today = new Date();\r\n  const startDate = new Date(today);\r\n  \r\n  switch (timeframe) {\r\n    case 'week':\r\n      startDate.setDate(today.getDate() - 7);\r\n      break;\r\n    case 'month':\r\n      startDate.setDate(today.getDate() - 30);\r\n      break;\r\n    case 'quarter':\r\n      startDate.setDate(today.getDate() - 90);\r\n      break;\r\n    case 'year':\r\n      startDate.setDate(today.getDate() - 365);\r\n      break;\r\n    default:\r\n      startDate.setDate(today.getDate() - 30);\r\n  }\r\n  \r\n  const filteredReceipts = receipts.filter(receipt => {\r\n    const receiptDate = new Date(receipt.date);\r\n    return receiptDate >= startDate && receiptDate <= today;\r\n  });\r\n  \r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Reports & Analytics</h1>\r\n        \r\n        <div className=\"flex space-x-2\">\r\n          <Dropdown\r\n            options={timeframeOptions}\r\n            value={timeframe}\r\n            onChange={setTimeframe}\r\n          />\r\n          \r\n          <Button\r\n            variant=\"secondary\"\r\n            icon={Printer}\r\n            onClick={handlePrint}\r\n          >\r\n            Print\r\n          </Button>\r\n          \r\n          <Button\r\n            variant=\"secondary\"\r\n            icon={Download}\r\n            onClick={handleExport}\r\n          >\r\n            Export\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      \r\n      <Card className=\"p-6\">\r\n        <div className=\"mb-4\">\r\n          <h2 className=\"text-lg font-semibold\">Spending Overview</h2>\r\n          <p className=\"text-sm text-gray-500\">\r\n            {formatDate(startDate)} - {formatDate(today)}\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"h-80\">\r\n          <SpendingChart data={filteredReceipts} />\r\n        </div>\r\n      </Card>\r\n      \r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-lg font-semibold mb-4\">Spending by Category</h2>\r\n          <div className=\"h-80\">\r\n            <CategoryBreakdown data={filteredReceipts} />\r\n          </div>\r\n        </Card>\r\n        \r\n        <Card className=\"p-6\">\r\n          <h2 className=\"text-lg font-semibold mb-4\">Spending Trends</h2>\r\n          <div className=\"h-80\">\r\n            <SpendingTrends data={filteredReceipts} timeframe={timeframe} />\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}