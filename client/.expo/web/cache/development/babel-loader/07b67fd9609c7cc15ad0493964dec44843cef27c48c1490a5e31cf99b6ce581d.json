{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useMemo } from 'react';\nimport { ReceiptCard } from \"./ReceiptCard\";\nimport { Button } from \"../../../shared/components/forms/Button\";\nimport { Loading } from \"../../../shared/components/ui/Loading\";\nimport { AlertCircle, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ITEMS_PER_PAGE = 10;\nexport var ReceiptList = function ReceiptList(_ref) {\n  var _ref$receipts = _ref.receipts,\n    receipts = _ref$receipts === void 0 ? [] : _ref$receipts,\n    _ref$loading = _ref.loading,\n    loading = _ref$loading === void 0 ? false : _ref$loading,\n    _ref$error = _ref.error,\n    error = _ref$error === void 0 ? null : _ref$error,\n    onReceiptClick = _ref.onReceiptClick,\n    _ref$selectedReceiptI = _ref.selectedReceiptId,\n    selectedReceiptId = _ref$selectedReceiptI === void 0 ? null : _ref$selectedReceiptI,\n    _ref$className = _ref.className,\n    className = _ref$className === void 0 ? '' : _ref$className;\n  var _useState = useState(1),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentPage = _useState2[0],\n    setCurrentPage = _useState2[1];\n  var paginatedReceipts = useMemo(function () {\n    var startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\n    var endIndex = startIndex + ITEMS_PER_PAGE;\n    return receipts.slice(startIndex, endIndex);\n  }, [receipts, currentPage]);\n  var totalPages = Math.ceil(receipts.length / ITEMS_PER_PAGE);\n  var handlePageChange = function handlePageChange(pageNum) {\n    setCurrentPage(pageNum);\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n  if (loading) {\n    return _jsx(\"div\", {\n      className: \"flex justify-center items-center py-8\",\n      children: _jsx(Loading, {\n        size: \"lg\"\n      })\n    });\n  }\n  if (error) {\n    return _jsxs(\"div\", {\n      className: \"flex flex-col items-center py-8 text-gray-500\",\n      children: [_jsx(AlertCircle, {\n        className: \"w-12 h-12 mb-4 text-red-500\"\n      }), _jsx(\"p\", {\n        className: \"text-lg font-medium\",\n        children: \"Failed to load receipts\"\n      }), _jsx(\"p\", {\n        className: \"text-sm mt-2\",\n        children: error\n      })]\n    });\n  }\n  if (receipts.length === 0) {\n    return _jsxs(\"div\", {\n      className: \"flex flex-col items-center py-8 text-gray-500\",\n      children: [_jsx(\"p\", {\n        className: \"text-lg font-medium\",\n        children: \"No receipts found\"\n      }), _jsx(\"p\", {\n        className: \"text-sm mt-2\",\n        children: \"Try adjusting your filters or upload a new receipt\"\n      })]\n    });\n  }\n  return _jsxs(\"div\", {\n    className: className,\n    children: [_jsx(\"div\", {\n      className: \"grid gap-4 mb-6\",\n      children: paginatedReceipts.map(function (receipt) {\n        return _jsx(ReceiptCard, {\n          receipt: receipt,\n          onClick: function onClick() {\n            return onReceiptClick == null ? void 0 : onReceiptClick(receipt);\n          },\n          isSelected: receipt.id === selectedReceiptId\n        }, receipt.id);\n      })\n    }), totalPages > 1 && _jsxs(\"div\", {\n      className: \"flex justify-between items-center pt-4 border-t\",\n      children: [_jsxs(\"div\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"Showing \", (currentPage - 1) * ITEMS_PER_PAGE + 1, \" to\", ' ', Math.min(currentPage * ITEMS_PER_PAGE, receipts.length), \" of\", ' ', receipts.length, \" receipts\"]\n      }), _jsxs(\"div\", {\n        className: \"flex space-x-2\",\n        children: [_jsx(Button, {\n          variant: \"secondary\",\n          size: \"sm\",\n          onClick: function onClick() {\n            return handlePageChange(currentPage - 1);\n          },\n          disabled: currentPage === 1,\n          icon: ChevronLeft,\n          children: \"Previous\"\n        }), _jsx(\"div\", {\n          className: \"flex space-x-1\",\n          children: Array.from({\n            length: totalPages\n          }, function (_, i) {\n            return i + 1;\n          }).filter(function (pageNum) {\n            return pageNum === 1 || pageNum === totalPages || Math.abs(pageNum - currentPage) <= 1;\n          }).map(function (pageNum, index, array) {\n            if (index > 0 && pageNum - array[index - 1] > 1) {\n              return _jsxs(React.Fragment, {\n                children: [_jsx(Button, {\n                  variant: \"secondary\",\n                  size: \"sm\",\n                  disabled: true,\n                  className: \"px-2\",\n                  children: \"...\"\n                }), _jsx(Button, {\n                  variant: pageNum === currentPage ? \"primary\" : \"secondary\",\n                  size: \"sm\",\n                  onClick: function onClick() {\n                    return handlePageChange(pageNum);\n                  },\n                  className: \"px-4\",\n                  children: pageNum\n                })]\n              }, `ellipsis-${pageNum}`);\n            }\n            return _jsx(Button, {\n              variant: pageNum === currentPage ? \"primary\" : \"secondary\",\n              size: \"sm\",\n              onClick: function onClick() {\n                return handlePageChange(pageNum);\n              },\n              className: \"px-4\",\n              children: pageNum\n            }, pageNum);\n          })\n        }), _jsx(Button, {\n          variant: \"secondary\",\n          size: \"sm\",\n          onClick: function onClick() {\n            return handlePageChange(currentPage + 1);\n          },\n          disabled: currentPage === totalPages,\n          icon: ChevronRight,\n          children: \"Next\"\n        })]\n      })]\n    })]\n  });\n};\nexport default ReceiptList;","map":{"version":3,"names":["React","useState","useMemo","ReceiptCard","Button","Loading","AlertCircle","ChevronLeft","ChevronRight","jsx","_jsx","jsxs","_jsxs","ITEMS_PER_PAGE","ReceiptList","_ref","_ref$receipts","receipts","_ref$loading","loading","_ref$error","error","onReceiptClick","_ref$selectedReceiptI","selectedReceiptId","_ref$className","className","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","paginatedReceipts","startIndex","endIndex","slice","totalPages","Math","ceil","length","handlePageChange","pageNum","window","scrollTo","top","behavior","children","size","map","receipt","onClick","isSelected","id","min","variant","disabled","icon","Array","from","_","i","filter","abs","index","array","Fragment"],"sources":["C:/Users/user/Documents/app.v3/client/src/features/receipts/components/ReceiptList.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport { ReceiptCard } from './ReceiptCard';\r\nimport { Button } from '../../../shared/components/forms/Button';\r\nimport { Loading } from '../../../shared/components/ui/Loading';\r\nimport { AlertCircle, ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\nconst ITEMS_PER_PAGE = 10;\r\n\r\nexport const ReceiptList = ({\r\n  receipts = [],\r\n  loading = false,\r\n  error = null,\r\n  onReceiptClick,\r\n  selectedReceiptId = null,\r\n  className = ''\r\n}) => {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const paginatedReceipts = useMemo(() => {\r\n    const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\r\n    const endIndex = startIndex + ITEMS_PER_PAGE;\r\n    return receipts.slice(startIndex, endIndex);\r\n  }, [receipts, currentPage]);\r\n\r\n  const totalPages = Math.ceil(receipts.length / ITEMS_PER_PAGE);\r\n\r\n  const handlePageChange = (pageNum) => {\r\n    setCurrentPage(pageNum);\r\n    // Scroll to top of list\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center py-8\">\r\n        <Loading size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex flex-col items-center py-8 text-gray-500\">\r\n        <AlertCircle className=\"w-12 h-12 mb-4 text-red-500\" />\r\n        <p className=\"text-lg font-medium\">Failed to load receipts</p>\r\n        <p className=\"text-sm mt-2\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (receipts.length === 0) {\r\n    return (\r\n      <div className=\"flex flex-col items-center py-8 text-gray-500\">\r\n        <p className=\"text-lg font-medium\">No receipts found</p>\r\n        <p className=\"text-sm mt-2\">Try adjusting your filters or upload a new receipt</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      {/* Receipts Grid */}\r\n      <div className=\"grid gap-4 mb-6\">\r\n        {paginatedReceipts.map((receipt) => (\r\n          <ReceiptCard\r\n            key={receipt.id}\r\n            receipt={receipt}\r\n            onClick={() => onReceiptClick?.(receipt)}\r\n            isSelected={receipt.id === selectedReceiptId}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {totalPages > 1 && (\r\n        <div className=\"flex justify-between items-center pt-4 border-t\">\r\n          <div className=\"text-sm text-gray-500\">\r\n            Showing {((currentPage - 1) * ITEMS_PER_PAGE) + 1} to{' '}\r\n            {Math.min(currentPage * ITEMS_PER_PAGE, receipts.length)} of{' '}\r\n            {receipts.length} receipts\r\n          </div>\r\n\r\n          <div className=\"flex space-x-2\">\r\n            <Button\r\n              variant=\"secondary\"\r\n              size=\"sm\"\r\n              onClick={() => handlePageChange(currentPage - 1)}\r\n              disabled={currentPage === 1}\r\n              icon={ChevronLeft}\r\n            >\r\n              Previous\r\n            </Button>\r\n\r\n            {/* Page Numbers */}\r\n            <div className=\"flex space-x-1\">\r\n              {Array.from({ length: totalPages }, (_, i) => i + 1)\r\n                .filter(pageNum => {\r\n                  // Show first page, last page, current page, and pages around current\r\n                  return (\r\n                    pageNum === 1 ||\r\n                    pageNum === totalPages ||\r\n                    Math.abs(pageNum - currentPage) <= 1\r\n                  );\r\n                })\r\n                .map((pageNum, index, array) => {\r\n                  // Add ellipsis\r\n                  if (index > 0 && pageNum - array[index - 1] > 1) {\r\n                    return (\r\n                      <React.Fragment key={`ellipsis-${pageNum}`}>\r\n                        <Button\r\n                          variant=\"secondary\"\r\n                          size=\"sm\"\r\n                          disabled\r\n                          className=\"px-2\"\r\n                        >\r\n                          ...\r\n                        </Button>\r\n                        <Button\r\n                          variant={pageNum === currentPage ? \"primary\" : \"secondary\"}\r\n                          size=\"sm\"\r\n                          onClick={() => handlePageChange(pageNum)}\r\n                          className=\"px-4\"\r\n                        >\r\n                          {pageNum}\r\n                        </Button>\r\n                      </React.Fragment>\r\n                    );\r\n                  }\r\n\r\n                  return (\r\n                    <Button\r\n                      key={pageNum}\r\n                      variant={pageNum === currentPage ? \"primary\" : \"secondary\"}\r\n                      size=\"sm\"\r\n                      onClick={() => handlePageChange(pageNum)}\r\n                      className=\"px-4\"\r\n                    >\r\n                      {pageNum}\r\n                    </Button>\r\n                  );\r\n                })}\r\n            </div>\r\n\r\n            <Button\r\n              variant=\"secondary\"\r\n              size=\"sm\"\r\n              onClick={() => handlePageChange(currentPage + 1)}\r\n              disabled={currentPage === totalPages}\r\n              icon={ChevronRight}\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptList;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AAChD,SAASC,WAAW;AACpB,SAASC,MAAM;AACf,SAASC,OAAO;AAChB,SAASC,WAAW,EAAEC,WAAW,EAAEC,YAAY,QAAQ,cAAc;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAEtE,IAAMC,cAAc,GAAG,EAAE;AAEzB,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAAC,IAAA,EAOlB;EAAA,IAAAC,aAAA,GAAAD,IAAA,CANJE,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,EAAE,GAAAA,aAAA;IAAAE,YAAA,GAAAH,IAAA,CACbI,OAAO;IAAPA,OAAO,GAAAD,YAAA,cAAG,KAAK,GAAAA,YAAA;IAAAE,UAAA,GAAAL,IAAA,CACfM,KAAK;IAALA,KAAK,GAAAD,UAAA,cAAG,IAAI,GAAAA,UAAA;IACZE,cAAc,GAAAP,IAAA,CAAdO,cAAc;IAAAC,qBAAA,GAAAR,IAAA,CACdS,iBAAiB;IAAjBA,iBAAiB,GAAAD,qBAAA,cAAG,IAAI,GAAAA,qBAAA;IAAAE,cAAA,GAAAV,IAAA,CACxBW,SAAS;IAATA,SAAS,GAAAD,cAAA,cAAG,EAAE,GAAAA,cAAA;EAEd,IAAAE,SAAA,GAAsC1B,QAAQ,CAAC,CAAC,CAAC;IAAA2B,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,WAAW,GAAAF,UAAA;IAAEG,cAAc,GAAAH,UAAA;EAElC,IAAMI,iBAAiB,GAAG9B,OAAO,CAAC,YAAM;IACtC,IAAM+B,UAAU,GAAG,CAACH,WAAW,GAAG,CAAC,IAAIjB,cAAc;IACrD,IAAMqB,QAAQ,GAAGD,UAAU,GAAGpB,cAAc;IAC5C,OAAOI,QAAQ,CAACkB,KAAK,CAACF,UAAU,EAAEC,QAAQ,CAAC;EAC7C,CAAC,EAAE,CAACjB,QAAQ,EAAEa,WAAW,CAAC,CAAC;EAE3B,IAAMM,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACrB,QAAQ,CAACsB,MAAM,GAAG1B,cAAc,CAAC;EAE9D,IAAM2B,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,OAAO,EAAK;IACpCV,cAAc,CAACU,OAAO,CAAC;IAEvBC,MAAM,CAACC,QAAQ,CAAC;MAAEC,GAAG,EAAE,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EACjD,CAAC;EAED,IAAI1B,OAAO,EAAE;IACX,OACET,IAAA;MAAKgB,SAAS,EAAC,uCAAuC;MAAAoB,QAAA,EACpDpC,IAAA,CAACL,OAAO;QAAC0C,IAAI,EAAC;MAAI,CAAE;IAAC,CAClB,CAAC;EAEV;EAEA,IAAI1B,KAAK,EAAE;IACT,OACET,KAAA;MAAKc,SAAS,EAAC,+CAA+C;MAAAoB,QAAA,GAC5DpC,IAAA,CAACJ,WAAW;QAACoB,SAAS,EAAC;MAA6B,CAAE,CAAC,EACvDhB,IAAA;QAAGgB,SAAS,EAAC,qBAAqB;QAAAoB,QAAA,EAAC;MAAuB,CAAG,CAAC,EAC9DpC,IAAA;QAAGgB,SAAS,EAAC,cAAc;QAAAoB,QAAA,EAAEzB;MAAK,CAAI,CAAC;IAAA,CACpC,CAAC;EAEV;EAEA,IAAIJ,QAAQ,CAACsB,MAAM,KAAK,CAAC,EAAE;IACzB,OACE3B,KAAA;MAAKc,SAAS,EAAC,+CAA+C;MAAAoB,QAAA,GAC5DpC,IAAA;QAAGgB,SAAS,EAAC,qBAAqB;QAAAoB,QAAA,EAAC;MAAiB,CAAG,CAAC,EACxDpC,IAAA;QAAGgB,SAAS,EAAC,cAAc;QAAAoB,QAAA,EAAC;MAAkD,CAAG,CAAC;IAAA,CAC/E,CAAC;EAEV;EAEA,OACElC,KAAA;IAAKc,SAAS,EAAEA,SAAU;IAAAoB,QAAA,GAExBpC,IAAA;MAAKgB,SAAS,EAAC,iBAAiB;MAAAoB,QAAA,EAC7Bd,iBAAiB,CAACgB,GAAG,CAAC,UAACC,OAAO;QAAA,OAC7BvC,IAAA,CAACP,WAAW;UAEV8C,OAAO,EAAEA,OAAQ;UACjBC,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQ5B,cAAc,oBAAdA,cAAc,CAAG2B,OAAO,CAAC;UAAA,CAAC;UACzCE,UAAU,EAAEF,OAAO,CAACG,EAAE,KAAK5B;QAAkB,GAHxCyB,OAAO,CAACG,EAId,CAAC;MAAA,CACH;IAAC,CACC,CAAC,EAGLhB,UAAU,GAAG,CAAC,IACbxB,KAAA;MAAKc,SAAS,EAAC,iDAAiD;MAAAoB,QAAA,GAC9DlC,KAAA;QAAKc,SAAS,EAAC,uBAAuB;QAAAoB,QAAA,GAAC,UAC7B,EAAE,CAAChB,WAAW,GAAG,CAAC,IAAIjB,cAAc,GAAI,CAAC,EAAC,KAAG,EAAC,GAAG,EACxDwB,IAAI,CAACgB,GAAG,CAACvB,WAAW,GAAGjB,cAAc,EAAEI,QAAQ,CAACsB,MAAM,CAAC,EAAC,KAAG,EAAC,GAAG,EAC/DtB,QAAQ,CAACsB,MAAM,EAAC,WACnB;MAAA,CAAK,CAAC,EAEN3B,KAAA;QAAKc,SAAS,EAAC,gBAAgB;QAAAoB,QAAA,GAC7BpC,IAAA,CAACN,MAAM;UACLkD,OAAO,EAAC,WAAW;UACnBP,IAAI,EAAC,IAAI;UACTG,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQV,gBAAgB,CAACV,WAAW,GAAG,CAAC,CAAC;UAAA,CAAC;UACjDyB,QAAQ,EAAEzB,WAAW,KAAK,CAAE;UAC5B0B,IAAI,EAAEjD,WAAY;UAAAuC,QAAA,EACnB;QAED,CAAQ,CAAC,EAGTpC,IAAA;UAAKgB,SAAS,EAAC,gBAAgB;UAAAoB,QAAA,EAC5BW,KAAK,CAACC,IAAI,CAAC;YAAEnB,MAAM,EAAEH;UAAW,CAAC,EAAE,UAACuB,CAAC,EAAEC,CAAC;YAAA,OAAKA,CAAC,GAAG,CAAC;UAAA,EAAC,CACjDC,MAAM,CAAC,UAAApB,OAAO,EAAI;YAEjB,OACEA,OAAO,KAAK,CAAC,IACbA,OAAO,KAAKL,UAAU,IACtBC,IAAI,CAACyB,GAAG,CAACrB,OAAO,GAAGX,WAAW,CAAC,IAAI,CAAC;UAExC,CAAC,CAAC,CACDkB,GAAG,CAAC,UAACP,OAAO,EAAEsB,KAAK,EAAEC,KAAK,EAAK;YAE9B,IAAID,KAAK,GAAG,CAAC,IAAItB,OAAO,GAAGuB,KAAK,CAACD,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE;cAC/C,OACEnD,KAAA,CAACZ,KAAK,CAACiE,QAAQ;gBAAAnB,QAAA,GACbpC,IAAA,CAACN,MAAM;kBACLkD,OAAO,EAAC,WAAW;kBACnBP,IAAI,EAAC,IAAI;kBACTQ,QAAQ;kBACR7B,SAAS,EAAC,MAAM;kBAAAoB,QAAA,EACjB;gBAED,CAAQ,CAAC,EACTpC,IAAA,CAACN,MAAM;kBACLkD,OAAO,EAAEb,OAAO,KAAKX,WAAW,GAAG,SAAS,GAAG,WAAY;kBAC3DiB,IAAI,EAAC,IAAI;kBACTG,OAAO,EAAE,SAATA,OAAOA,CAAA;oBAAA,OAAQV,gBAAgB,CAACC,OAAO,CAAC;kBAAA,CAAC;kBACzCf,SAAS,EAAC,MAAM;kBAAAoB,QAAA,EAEfL;gBAAO,CACF,CAAC;cAAA,GAhBU,YAAYA,OAAO,EAiBxB,CAAC;YAErB;YAEA,OACE/B,IAAA,CAACN,MAAM;cAELkD,OAAO,EAAEb,OAAO,KAAKX,WAAW,GAAG,SAAS,GAAG,WAAY;cAC3DiB,IAAI,EAAC,IAAI;cACTG,OAAO,EAAE,SAATA,OAAOA,CAAA;gBAAA,OAAQV,gBAAgB,CAACC,OAAO,CAAC;cAAA,CAAC;cACzCf,SAAS,EAAC,MAAM;cAAAoB,QAAA,EAEfL;YAAO,GANHA,OAOC,CAAC;UAEb,CAAC;QAAC,CACD,CAAC,EAEN/B,IAAA,CAACN,MAAM;UACLkD,OAAO,EAAC,WAAW;UACnBP,IAAI,EAAC,IAAI;UACTG,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQV,gBAAgB,CAACV,WAAW,GAAG,CAAC,CAAC;UAAA,CAAC;UACjDyB,QAAQ,EAAEzB,WAAW,KAAKM,UAAW;UACrCoB,IAAI,EAAEhD,YAAa;UAAAsC,QAAA,EACpB;QAED,CAAQ,CAAC;MAAA,CACN,CAAC;IAAA,CACH,CACN;EAAA,CACE,CAAC;AAEV,CAAC;AAED,eAAehC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}