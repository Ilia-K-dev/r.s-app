{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport { auth } from \"../config/firebase\";\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, sendPasswordResetEmail, onAuthStateChanged, updateProfile } from 'firebase/auth';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = createContext({\n  user: null,\n  loading: true,\n  login: function () {\n    var _login = _asyncToGenerator(function* () {});\n    function login() {\n      return _login.apply(this, arguments);\n    }\n    return login;\n  }(),\n  register: function () {\n    var _register = _asyncToGenerator(function* () {});\n    function register() {\n      return _register.apply(this, arguments);\n    }\n    return register;\n  }(),\n  logout: function () {\n    var _logout = _asyncToGenerator(function* () {});\n    function logout() {\n      return _logout.apply(this, arguments);\n    }\n    return logout;\n  }(),\n  resetPassword: function () {\n    var _resetPassword = _asyncToGenerator(function* () {});\n    function resetPassword() {\n      return _resetPassword.apply(this, arguments);\n    }\n    return resetPassword;\n  }()\n});\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    var unsubscribe = onAuthStateChanged(auth, function (user) {\n      setUser(user);\n      setLoading(false);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  var login = function () {\n    var _ref2 = _asyncToGenerator(function* (email, password) {\n      try {\n        var result = yield signInWithEmailAndPassword(auth, email, password);\n        return result.user;\n      } catch (error) {\n        throw new Error(error.message);\n      }\n    });\n    return function login(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var register = function () {\n    var _ref3 = _asyncToGenerator(function* (email, password, displayName) {\n      try {\n        var result = yield createUserWithEmailAndPassword(auth, email, password);\n        yield updateProfile(result.user, {\n          displayName: displayName\n        });\n        return result.user;\n      } catch (error) {\n        throw new Error(error.message);\n      }\n    });\n    return function register(_x3, _x4, _x5) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var logout = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        yield signOut(auth);\n      } catch (error) {\n        throw new Error(error.message);\n      }\n    });\n    return function logout() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var resetPassword = function () {\n    var _ref5 = _asyncToGenerator(function* (email) {\n      try {\n        yield sendPasswordResetEmail(auth, email);\n      } catch (error) {\n        throw new Error(error.message);\n      }\n    });\n    return function resetPassword(_x6) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var value = {\n    user: user,\n    loading: loading,\n    login: login,\n    register: register,\n    logout: logout,\n    resetPassword: resetPassword\n  };\n  return _jsx(AuthContext.Provider, {\n    value: value,\n    children: children\n  });\n};\nexport var useAuth = function useAuth() {\n  return useContext(AuthContext);\n};","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","auth","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","sendPasswordResetEmail","onAuthStateChanged","updateProfile","jsx","_jsx","AuthContext","user","loading","login","_login","_asyncToGenerator","apply","arguments","register","_register","logout","_logout","resetPassword","_resetPassword","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","setUser","_useState3","_useState4","setLoading","unsubscribe","_ref2","email","password","result","error","Error","message","_x","_x2","_ref3","displayName","_x3","_x4","_x5","_ref4","_ref5","_x6","value","Provider","useAuth"],"sources":["C:/Users/user/Documents/app.v3/client/src/core/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react'; //correct\r\n\r\nimport { auth } from '../config/firebase'; //correct\r\nimport { \r\n  signInWithEmailAndPassword, \r\n  createUserWithEmailAndPassword, \r\n  signOut, \r\n  sendPasswordResetEmail,\r\n  onAuthStateChanged,\r\n  updateProfile\r\n} from 'firebase/auth';\r\n\r\nexport const AuthContext = createContext({\r\n  user: null,\r\n  loading: true,\r\n  login: async () => {},\r\n  register: async () => {},\r\n  logout: async () => {},\r\n  resetPassword: async () => {}\r\n});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Listen for auth state changes\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    // Clean up subscription\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Login function\r\n  const login = async (email, password) => {\r\n    try {\r\n      const result = await signInWithEmailAndPassword(auth, email, password);\r\n      return result.user;\r\n    } catch (error) {\r\n      throw new Error(error.message);\r\n    }\r\n  };\r\n\r\n  // Register function\r\n  const register = async (email, password, displayName) => {\r\n    try {\r\n      const result = await createUserWithEmailAndPassword(auth, email, password);\r\n      // Set display name (could be extended to update profile)\r\n      await updateProfile(result.user, { displayName });\r\n      return result.user;\r\n    } catch (error) {\r\n      throw new Error(error.message);\r\n    }\r\n  };\r\n\r\n  // Logout function\r\n  const logout = async () => {\r\n    try {\r\n      await signOut(auth);\r\n    } catch (error) {\r\n      throw new Error(error.message);\r\n    }\r\n  };\r\n\r\n  // Password reset function\r\n  const resetPassword = async (email) => {\r\n    try {\r\n      await sendPasswordResetEmail(auth, email);\r\n    } catch (error) {\r\n      throw new Error(error.message);\r\n    }\r\n  };\r\n\r\n  // Create the context value\r\n  const value = {\r\n    user,\r\n    loading,\r\n    login,\r\n    register,\r\n    logout,\r\n    resetPassword\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}