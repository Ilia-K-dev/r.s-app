{"ast":null,"code":"import { initializeApp, getApps } from 'firebase/app';\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore';\nimport { getStorage } from 'firebase/storage';\nvar firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n};\nif (process.env.NODE_ENV === 'development') {\n  console.log('Firebase Config Check:', {\n    apiKey: firebaseConfig.apiKey ? 'OK' : 'MISSING!',\n    authDomain: firebaseConfig.authDomain ? 'OK' : 'MISSING!',\n    projectId: firebaseConfig.projectId ? 'OK' : 'MISSING!',\n    storageBucket: firebaseConfig.storageBucket ? 'OK' : 'MISSING!',\n    messagingSenderId: firebaseConfig.messagingSenderId ? 'OK' : 'MISSING!',\n    appId: firebaseConfig.appId ? 'OK' : 'MISSING!'\n  });\n}\nvar validateConfig = function validateConfig(config) {\n  var requiredKeys = ['apiKey', 'authDomain', 'projectId', 'storageBucket', 'messagingSenderId', 'appId'];\n  var missingKeys = requiredKeys.filter(function (key) {\n    return !config[key];\n  });\n  if (missingKeys.length > 0) {\n    var errorMsg = `CRITICAL ERROR: Missing Firebase configuration values for: ${missingKeys.join(', ')}. Check your .env file and ensure all REACT_APP_FIREBASE_... variables are set correctly.`;\n    console.error(errorMsg);\n    throw new Error(errorMsg);\n  }\n  console.log(\"Firebase configuration validated successfully.\");\n};\nvar app;\nvar auth;\nvar db;\nvar storage;\ntry {\n  validateConfig(firebaseConfig);\n  if (!getApps().length) {\n    console.log(\"Initializing Firebase app...\");\n    app = initializeApp(firebaseConfig);\n    console.log(\"Firebase app initialized.\");\n  } else {\n    console.log(\"Firebase app already initialized.\");\n    app = getApps()[0];\n  }\n  auth = getAuth(app);\n  db = getFirestore(app);\n  storage = getStorage(app);\n  console.log(\"Firebase services (Auth, Firestore, Storage) initialized.\");\n} catch (error) {\n  if (!error.message.startsWith('CRITICAL ERROR')) {\n    console.error('Firebase initialization failed:', error);\n  }\n  throw error;\n}\nexport { auth, db, storage, app };\nexport default app;","map":{"version":3,"names":["initializeApp","getApps","getAuth","getFirestore","getStorage","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","NODE_ENV","console","log","validateConfig","config","requiredKeys","missingKeys","filter","key","length","errorMsg","join","error","Error","app","auth","db","storage","message","startsWith"],"sources":["C:/Users/user/Documents/app.v3/client/src/core/config/firebase.js"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { getStorage } from 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n};\r\n\r\n// Debug logging for development\r\nif (process.env.NODE_ENV === 'development') {\r\n  console.log('Firebase Config Check:', {\r\n    apiKey: firebaseConfig.apiKey ? 'OK' : 'MISSING!',\r\n    authDomain: firebaseConfig.authDomain ? 'OK' : 'MISSING!',\r\n    projectId: firebaseConfig.projectId ? 'OK' : 'MISSING!',\r\n    storageBucket: firebaseConfig.storageBucket ? 'OK' : 'MISSING!',\r\n    messagingSenderId: firebaseConfig.messagingSenderId ? 'OK' : 'MISSING!',\r\n    appId: firebaseConfig.appId ? 'OK' : 'MISSING!',\r\n  });\r\n}\r\n\r\n// Validate config before initialization\r\nconst validateConfig = (config) => {\r\n  const requiredKeys = [\r\n    'apiKey',\r\n    'authDomain',\r\n    'projectId',\r\n    'storageBucket',\r\n    'messagingSenderId',\r\n    'appId'\r\n  ];\r\n  \r\n  const missingKeys = requiredKeys.filter(key => !config[key]);\r\n  \r\n  if (missingKeys.length > 0) {\r\n    const errorMsg = `CRITICAL ERROR: Missing Firebase configuration values for: ${missingKeys.join(', ')}. Check your .env file and ensure all REACT_APP_FIREBASE_... variables are set correctly.`;\r\n    console.error(errorMsg); // Log detailed error to console\r\n    // Throwing the error will likely stop the app from rendering, which is intended behavior here.\r\n    throw new Error(errorMsg); \r\n  }\r\n  console.log(\"Firebase configuration validated successfully.\");\r\n};\r\n\r\n// Initialize Firebase\r\nlet app;\r\nlet auth;\r\nlet db;\r\nlet storage;\r\n\r\ntry {\r\n  validateConfig(firebaseConfig); // Validate the config object\r\n  \r\n  if (!getApps().length) {\r\n    console.log(\"Initializing Firebase app...\");\r\n    app = initializeApp(firebaseConfig);\r\n    console.log(\"Firebase app initialized.\");\r\n  } else {\r\n    console.log(\"Firebase app already initialized.\");\r\n    app = getApps()[0]; // Get the default app\r\n  }\r\n\r\n  // Initialize services after app initialization\r\n  auth = getAuth(app);\r\n  db = getFirestore(app);\r\n  storage = getStorage(app);\r\n  console.log(\"Firebase services (Auth, Firestore, Storage) initialized.\");\r\n\r\n} catch (error) {\r\n  // Error is already logged by validateConfig if it's a config issue.\r\n  // Log other potential initialization errors.\r\n  if (!error.message.startsWith('CRITICAL ERROR')) {\r\n      console.error('Firebase initialization failed:', error);\r\n  }\r\n  // Optionally: Display a user-friendly message in the UI instead of crashing\r\n  // For now, throwing the error might be acceptable for development build failures.\r\n  // Re-throw to ensure the app doesn't proceed in a broken state\r\n  throw error; \r\n}\r\n\r\n// Export initialized services\r\nexport { auth, db, storage, app }; // Export app as well if needed elsewhere\r\nexport default app; // Keep default export if used\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}