{"ast":null,"code":"export var calculateBudgetVariance = function calculateBudgetVariance(budgetAmount, actualSpending) {\n  var variance = actualSpending - budgetAmount;\n  var percentageVariance = variance / budgetAmount * 100;\n  return {\n    variance: variance,\n    percentageVariance: percentageVariance.toFixed(2)\n  };\n};\nexport var calculateInventoryTurnoverRatio = function calculateInventoryTurnoverRatio(costOfGoodsSold, averageInventory) {\n  return (costOfGoodsSold / averageInventory).toFixed(2);\n};\nexport var calculateDaysOfInventoryOnHand = function calculateDaysOfInventoryOnHand(averageInventory, costOfGoodsSold, numberOfDays) {\n  return Math.ceil(averageInventory / costOfGoodsSold * numberOfDays);\n};\nexport var calculateGrowthRate = function calculateGrowthRate(data) {\n  if (!data || data.length < 2) return 0;\n  var firstValue = data[0].amount;\n  var lastValue = data[data.length - 1].amount;\n  return (lastValue - firstValue) / firstValue * 100;\n};\nexport var generateForecast = function generateForecast(data) {\n  if (!data || data.length < 2) return [];\n  var xValues = data.map(function (_, i) {\n    return i;\n  });\n  var yValues = data.map(function (item) {\n    return item.amount;\n  });\n  var n = data.length;\n  var sumX = xValues.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n  var sumY = yValues.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n  var sumXY = xValues.reduce(function (a, b, i) {\n    return a + b * yValues[i];\n  }, 0);\n  var sumXX = xValues.reduce(function (a, b) {\n    return a + b * b;\n  }, 0);\n  var slope = (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX);\n  var intercept = (sumY - slope * sumX) / n;\n  return Array.from({\n    length: 7\n  }, function (_, i) {\n    return {\n      date: new Date(data[data.length - 1].date).setDate(new Date(data[data.length - 1].date).getDate() + i + 1),\n      amount: slope * (data.length + i) + intercept\n    };\n  });\n};","map":{"version":3,"names":["calculateBudgetVariance","budgetAmount","actualSpending","variance","percentageVariance","toFixed","calculateInventoryTurnoverRatio","costOfGoodsSold","averageInventory","calculateDaysOfInventoryOnHand","numberOfDays","Math","ceil","calculateGrowthRate","data","length","firstValue","amount","lastValue","generateForecast","xValues","map","_","i","yValues","item","n","sumX","reduce","a","b","sumY","sumXY","sumXX","slope","intercept","Array","from","date","Date","setDate","getDate"],"sources":["C:/Users/user/Documents/app.v3/client/src/features/analytics/utils/analyticsCalculations.js"],"sourcesContent":["export const calculateBudgetVariance = (budgetAmount, actualSpending) => {\r\n  const variance = actualSpending - budgetAmount;\r\n  const percentageVariance = (variance / budgetAmount) * 100;\r\n  return {\r\n    variance,\r\n    percentageVariance: percentageVariance.toFixed(2),\r\n  };\r\n};\r\n\r\nexport const calculateInventoryTurnoverRatio = (costOfGoodsSold, averageInventory) => (costOfGoodsSold / averageInventory).toFixed(2);\r\n\r\nexport const calculateDaysOfInventoryOnHand = (averageInventory, costOfGoodsSold, numberOfDays) => Math.ceil((averageInventory / costOfGoodsSold) * numberOfDays);\r\n\r\nexport const calculateGrowthRate = data => {\r\n  if (!data || data.length < 2) return 0;\r\n  const firstValue = data[0].amount;\r\n  const lastValue = data[data.length - 1].amount;\r\n  return ((lastValue - firstValue) / firstValue) * 100;\r\n};\r\n\r\nexport const generateForecast = data => {\r\n  if (!data || data.length < 2) return [];\r\n\r\n  // Simple linear regression\r\n  const xValues = data.map((_, i) => i);\r\n  const yValues = data.map(item => item.amount);\r\n\r\n  const n = data.length;\r\n  const sumX = xValues.reduce((a, b) => a + b, 0);\r\n  const sumY = yValues.reduce((a, b) => a + b, 0);\r\n  const sumXY = xValues.reduce((a, b, i) => a + b * yValues[i], 0);\r\n  const sumXX = xValues.reduce((a, b) => a + b * b, 0);\r\n\r\n  const slope = (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX);\r\n  const intercept = (sumY - slope * sumX) / n;\r\n\r\n  return Array.from({ length: 7 }, (_, i) => ({\r\n    date: new Date(data[data.length - 1].date).setDate(\r\n      new Date(data[data.length - 1].date).getDate() + i + 1\r\n    ),\r\n    amount: slope * (data.length + i) + intercept,\r\n  }));\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}