{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { Upload, File, X } from 'lucide-react';\nimport React, { useCallback } from 'react';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var FileUploader = function FileUploader(_ref) {\n  var onFileSelect = _ref.onFileSelect,\n    _ref$acceptedTypes = _ref.acceptedTypes,\n    acceptedTypes = _ref$acceptedTypes === void 0 ? 'image/*' : _ref$acceptedTypes,\n    _ref$maxSize = _ref.maxSize,\n    maxSize = _ref$maxSize === void 0 ? 5242880 : _ref$maxSize,\n    _ref$multiple = _ref.multiple,\n    multiple = _ref$multiple === void 0 ? false : _ref$multiple;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    files = _useState2[0],\n    setFiles = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var handleDrop = useCallback(function (e) {\n    e.preventDefault();\n    var droppedFiles = Array.from(e.dataTransfer.files);\n    validateAndSetFiles(droppedFiles);\n  }, []);\n  var validateAndSetFiles = function validateAndSetFiles(fileList) {\n    var validFiles = Array.from(fileList).filter(function (file) {\n      if (file.size > maxSize) {\n        setError(`File ${file.name} is too large. Maximum size is ${maxSize / 1024 / 1024}MB`);\n        return false;\n      }\n      if (!file.type.match(acceptedTypes)) {\n        setError(`File ${file.name} is not a supported format`);\n        return false;\n      }\n      return true;\n    });\n    setFiles(validFiles);\n    onFileSelect(multiple ? validFiles : validFiles[0]);\n  };\n  return _jsxs(\"div\", {\n    children: [_jsxs(\"div\", {\n      onDrop: handleDrop,\n      onDragOver: function onDragOver(e) {\n        return e.preventDefault();\n      },\n      className: \"border-2 border-dashed rounded-lg p-6 text-center hover:border-primary-300\",\n      children: [_jsx(Upload, {\n        className: \"mx-auto h-12 w-12 text-gray-400\"\n      }), _jsxs(\"p\", {\n        className: \"mt-2 text-sm text-gray-600\",\n        children: [\"Drag and drop your files here, or\", ' ', _jsx(\"button\", {\n          className: \"text-primary-500 hover:text-primary-600\",\n          children: \"browse\"\n        })]\n      })]\n    }), error && _jsx(\"p\", {\n      className: \"mt-2 text-sm text-red-500\",\n      children: error\n    }), files.length > 0 && _jsx(\"ul\", {\n      className: \"mt-4 space-y-2\",\n      children: files.map(function (file, index) {\n        return _jsxs(\"li\", {\n          className: \"flex items-center justify-between p-2 bg-gray-50 rounded\",\n          children: [_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [_jsx(File, {\n              className: \"h-5 w-5 text-gray-400 mr-2\"\n            }), _jsx(\"span\", {\n              className: \"text-sm text-gray-700\",\n              children: file.name\n            })]\n          }), _jsx(\"button\", {\n            onClick: function onClick() {\n              setFiles(files.filter(function (_, i) {\n                return i !== index;\n              }));\n              setError('');\n            },\n            children: _jsx(X, {\n              className: \"h-5 w-5 text-gray-400 hover:text-gray-600\"\n            })\n          })]\n        }, index);\n      })\n    })]\n  });\n};","map":{"version":3,"names":["Upload","File","X","React","useCallback","jsx","_jsx","jsxs","_jsxs","FileUploader","_ref","onFileSelect","_ref$acceptedTypes","acceptedTypes","_ref$maxSize","maxSize","_ref$multiple","multiple","_useState","useState","_useState2","_slicedToArray","files","setFiles","_useState3","_useState4","error","setError","handleDrop","e","preventDefault","droppedFiles","Array","from","dataTransfer","validateAndSetFiles","fileList","validFiles","filter","file","size","name","type","match","children","onDrop","onDragOver","className","length","map","index","onClick","_","i"],"sources":["C:/Users/user/Documents/app.v3/client/src/shared/components/forms/FileUploader.js"],"sourcesContent":["import { Upload, File, X } from 'lucide-react'; //correct\r\nimport React, { useCallback } from 'react'; //correct\r\n\r\nexport const FileUploader = ({\r\n  onFileSelect,\r\n  acceptedTypes = 'image/*',\r\n  maxSize = 5242880, // 5MB\r\n  multiple = false,\r\n}) => {\r\n  const [files, setFiles] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleDrop = useCallback(e => {\r\n    e.preventDefault();\r\n    const droppedFiles = Array.from(e.dataTransfer.files);\r\n    validateAndSetFiles(droppedFiles);\r\n  }, []);\r\n\r\n  const validateAndSetFiles = fileList => {\r\n    const validFiles = Array.from(fileList).filter(file => {\r\n      if (file.size > maxSize) {\r\n        setError(`File ${file.name} is too large. Maximum size is ${maxSize / 1024 / 1024}MB`);\r\n        return false;\r\n      }\r\n      if (!file.type.match(acceptedTypes)) {\r\n        setError(`File ${file.name} is not a supported format`);\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n\r\n    setFiles(validFiles);\r\n    onFileSelect(multiple ? validFiles : validFiles[0]);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        onDrop={handleDrop}\r\n        onDragOver={e => e.preventDefault()}\r\n        className=\"border-2 border-dashed rounded-lg p-6 text-center hover:border-primary-300\"\r\n      >\r\n        <Upload className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n        <p className=\"mt-2 text-sm text-gray-600\">\r\n          Drag and drop your files here, or{' '}\r\n          <button className=\"text-primary-500 hover:text-primary-600\">browse</button>\r\n        </p>\r\n      </div>\r\n\r\n      {error && <p className=\"mt-2 text-sm text-red-500\">{error}</p>}\r\n\r\n      {files.length > 0 && (\r\n        <ul className=\"mt-4 space-y-2\">\r\n          {files.map((file, index) => (\r\n            <li key={index} className=\"flex items-center justify-between p-2 bg-gray-50 rounded\">\r\n              <div className=\"flex items-center\">\r\n                <File className=\"h-5 w-5 text-gray-400 mr-2\" />\r\n                <span className=\"text-sm text-gray-700\">{file.name}</span>\r\n              </div>\r\n              <button\r\n                onClick={() => {\r\n                  setFiles(files.filter((_, i) => i !== index));\r\n                  setError('');\r\n                }}\r\n              >\r\n                <X className=\"h-5 w-5 text-gray-400 hover:text-gray-600\" />\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}