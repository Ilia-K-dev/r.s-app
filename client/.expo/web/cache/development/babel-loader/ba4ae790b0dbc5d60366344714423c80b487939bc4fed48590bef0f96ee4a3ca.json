{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _excluded = [\"merchant\"],\n  _excluded2 = [\"date\"],\n  _excluded3 = [\"total\"],\n  _excluded4 = [\"category\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { Store, Calendar, DollarSign, Tag, Plus, Trash, Save } from 'lucide-react';\nimport React, { useState, useEffect } from 'react';\nimport { Input } from \"../../..//shared/components/forms/Input\";\nimport Button from \"../../../shared/components/ui/Button\";\nimport { Dropdown } from \"../../../shared/components/forms/Dropdown\";\nimport { Alert } from \"../../../shared/components/ui/Alert\";\nimport { Modal } from \"../../../shared/components/ui/Modal\";\nimport { useToast } from \"../../../shared/hooks/useToast\";\nimport { parseCurrencyInput, formatCurrency } from \"../../../shared/utils/currency\";\nimport { useCategories } from \"../../categories/hooks/useCategories\";\nimport { validateAmount, validateRequired } from \"../utils/validation\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar ReceiptForm = function ReceiptForm(_ref) {\n  var _ref$initialData = _ref.initialData,\n    initialData = _ref$initialData === void 0 ? null : _ref$initialData,\n    onSubmit = _ref.onSubmit,\n    onCancel = _ref.onCancel,\n    _ref$loading = _ref.loading,\n    loading = _ref$loading === void 0 ? false : _ref$loading,\n    addReceipt = _ref.addReceipt;\n  var _useCategories = useCategories(),\n    categories = _useCategories.categories,\n    categoriesLoading = _useCategories.loading;\n  var _useToast = useToast(),\n    showToast = _useToast.showToast;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    errors = _useState2[0],\n    setErrors = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showTotalMismatchModal = _useState4[0],\n    setShowTotalMismatchModal = _useState4[1];\n  var _useState5 = useState({\n      merchant: '',\n      date: new Date().toISOString().split('T')[0],\n      total: '',\n      category: '',\n      items: [{\n        name: '',\n        price: '',\n        quantity: 1\n      }],\n      notes: ''\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    formData = _useState6[0],\n    setFormData = _useState6[1];\n  useEffect(function () {\n    if (initialData) {\n      var _initialData$items;\n      setFormData(_objectSpread(_objectSpread({}, initialData), {}, {\n        date: new Date(initialData.date).toISOString().split('T')[0],\n        items: ((_initialData$items = initialData.items) == null ? void 0 : _initialData$items.length) > 0 ? initialData.items : [{\n          name: '',\n          price: '',\n          quantity: 1\n        }]\n      }));\n    }\n  }, [initialData]);\n  var validateForm = function validateForm() {\n    var newErrors = {};\n    var requiredFields = ['merchant', 'date', 'total', 'category'];\n    requiredFields.forEach(function (field) {\n      var validation = validateRequired(formData[field], field);\n      if (!validation.isValid) {\n        newErrors[field] = validation.error;\n      }\n    });\n    var amountValidation = validateAmount(formData.total);\n    if (!amountValidation.isValid) {\n      newErrors.total = amountValidation.error;\n    }\n    var itemsWithValues = formData.items.filter(function (item) {\n      return item.name.trim() || item.price;\n    });\n    itemsWithValues.forEach(function (item, index) {\n      if (!item.name.trim()) {\n        newErrors[`items.${index}.name`] = 'Item name is required';\n      }\n      if (!validateAmount(item.price).isValid) {\n        newErrors[`items.${index}.price`] = 'Valid price is required';\n      }\n      if (item.quantity < 1) {\n        newErrors[`items.${index}.quantity`] = 'Quantity must be at least 1';\n      }\n    });\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  var handleSubmit = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var proceedWithMismatch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      setShowTotalMismatchModal(false);\n      if (!validateForm()) {\n        showToast('Please fix the errors before submitting', 'error');\n        return;\n      }\n      try {\n        var itemsTotal = formData.items.reduce(function (sum, item) {\n          return sum + (parseFloat(item.price) || 0) * (parseInt(item.quantity) || 1);\n        }, 0);\n        if (formData.items.length > 0 && Math.abs(itemsTotal - parseFloat(formData.total)) > 0.01) {\n          if (!proceedWithMismatch) {\n            setShowTotalMismatchModal(true);\n            return;\n          }\n        }\n        yield addReceipt(formData);\n        showToast('Receipt saved successfully', 'success');\n      } catch (error) {\n        showToast(error.message || 'Failed to save receipt', 'error');\n      }\n    });\n    return function handleSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleItemChange = function handleItemChange(index, field, value) {\n    var updatedItems = _toConsumableArray(formData.items);\n    updatedItems[index] = _objectSpread(_objectSpread({}, updatedItems[index]), {}, _defineProperty({}, field, field === 'price' ? parseCurrencyInput(value) : value));\n    setFormData(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        items: updatedItems\n      });\n    });\n    if (errors[`items.${index}.${field}`]) {\n      var _ = errors[`items.${index}.${field}`],\n        restErrors = _objectWithoutProperties(errors, [`items.${index}.${field}`]);\n      setErrors(restErrors);\n    }\n  };\n  var addItem = function addItem() {\n    setFormData(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        items: [].concat(_toConsumableArray(prev.items), [{\n          name: '',\n          price: '',\n          quantity: 1\n        }])\n      });\n    });\n  };\n  var removeItem = function removeItem(index) {\n    if (formData.items.length === 1) {\n      showToast('Cannot remove the last item', 'warning');\n      return;\n    }\n    setFormData(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        items: prev.items.filter(function (_, i) {\n          return i !== index;\n        })\n      });\n    });\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsxs(\"form\", {\n      onSubmit: function onSubmit(e) {\n        e.preventDefault();\n        handleSubmit();\n      },\n      className: \"space-y-6\",\n      children: [_jsxs(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [_jsx(Input, {\n          label: \"Merchant\",\n          icon: Store,\n          value: formData.merchant,\n          onChange: function onChange(e) {\n            setFormData(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                merchant: e.target.value\n              });\n            });\n            if (errors.merchant) {\n              var merchant = errors.merchant,\n                rest = _objectWithoutProperties(errors, _excluded);\n              setErrors(rest);\n            }\n          },\n          error: errors.merchant,\n          required: true\n        }), _jsx(Input, {\n          type: \"date\",\n          label: \"Date\",\n          icon: Calendar,\n          value: formData.date,\n          onChange: function onChange(e) {\n            setFormData(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                date: e.target.value\n              });\n            });\n            if (errors.date) {\n              var date = errors.date,\n                rest = _objectWithoutProperties(errors, _excluded2);\n              setErrors(rest);\n            }\n          },\n          error: errors.date,\n          required: true\n        }), _jsx(Input, {\n          type: \"text\",\n          label: \"Total Amount\",\n          icon: DollarSign,\n          value: formData.total,\n          onChange: function onChange(e) {\n            var value = parseCurrencyInput(e.target.value);\n            setFormData(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                total: value\n              });\n            });\n            if (errors.total) {\n              var total = errors.total,\n                rest = _objectWithoutProperties(errors, _excluded3);\n              setErrors(rest);\n            }\n          },\n          placeholder: \"0.00\",\n          error: errors.total,\n          required: true\n        }), _jsx(Dropdown, {\n          label: \"Category\",\n          icon: Tag,\n          options: categories.map(function (cat) {\n            return {\n              value: cat.id,\n              label: cat.name\n            };\n          }),\n          value: formData.category,\n          onChange: function onChange(value) {\n            setFormData(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                category: value\n              });\n            });\n            if (errors.category) {\n              var category = errors.category,\n                rest = _objectWithoutProperties(errors, _excluded4);\n              setErrors(rest);\n            }\n          },\n          error: errors.category,\n          disabled: categoriesLoading,\n          required: true\n        })]\n      }), _jsxs(\"div\", {\n        className: \"space-y-4\",\n        children: [_jsxs(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [_jsx(\"h3\", {\n            className: \"text-lg font-medium text-gray-900\",\n            children: \"Items\"\n          }), _jsx(Button, {\n            type: \"button\",\n            variant: \"secondary\",\n            size: \"sm\",\n            onClick: addItem,\n            icon: Plus,\n            children: \"Add Item\"\n          })]\n        }), formData.items.map(function (item, index) {\n          return _jsxs(\"div\", {\n            className: \"flex gap-4 items-start\",\n            children: [_jsx(Input, {\n              placeholder: \"Item name\",\n              value: item.name,\n              onChange: function onChange(e) {\n                return handleItemChange(index, 'name', e.target.value);\n              },\n              error: errors[`items.${index}.name`],\n              className: \"flex-1\"\n            }), _jsx(Input, {\n              type: \"text\",\n              placeholder: \"Price\",\n              value: item.price,\n              onChange: function onChange(e) {\n                return handleItemChange(index, 'price', e.target.value);\n              },\n              error: errors[`items.${index}.price`],\n              className: \"w-32\",\n              prefix: \"$\"\n            }), _jsx(Input, {\n              type: \"number\",\n              placeholder: \"Qty\",\n              value: item.quantity,\n              onChange: function onChange(e) {\n                return handleItemChange(index, 'quantity', e.target.value);\n              },\n              error: errors[`items.${index}.quantity`],\n              min: \"1\",\n              className: \"w-24\"\n            }), formData.items.length > 1 && _jsx(Button, {\n              type: \"button\",\n              variant: \"danger\",\n              size: \"icon\",\n              onClick: function onClick() {\n                return removeItem(index);\n              },\n              icon: Trash\n            })]\n          }, index);\n        })]\n      }), _jsx(Input, {\n        label: \"Notes\",\n        type: \"textarea\",\n        value: formData.notes,\n        onChange: function onChange(e) {\n          return setFormData(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              notes: e.target.value\n            });\n          });\n        },\n        placeholder: \"Add any additional notes here...\",\n        className: \"h-24\"\n      }), Object.keys(errors).length > 0 && _jsx(Alert, {\n        type: \"error\",\n        title: \"Please fix the following errors:\",\n        message: _jsx(\"ul\", {\n          className: \"list-disc list-inside\",\n          children: Object.values(errors).map(function (error, index) {\n            return _jsx(\"li\", {\n              children: error\n            }, index);\n          })\n        }),\n        className: \"mb-4\"\n      }), error && _jsx(Alert, {\n        type: \"error\",\n        title: \"Error saving receipt:\",\n        message: error,\n        className: \"mb-4\"\n      }), _jsxs(\"div\", {\n        className: \"flex justify-end space-x-4\",\n        children: [_jsx(Button, {\n          type: \"button\",\n          variant: \"secondary\",\n          onClick: onCancel,\n          disabled: loading,\n          children: \"Cancel\"\n        }), _jsx(Button, {\n          type: \"submit\",\n          loading: loading,\n          icon: Save,\n          children: initialData ? 'Update Receipt' : 'Save Receipt'\n        })]\n      })]\n    }), showTotalMismatchModal && _jsx(Modal, {\n      isOpen: showTotalMismatchModal,\n      onClose: function onClose() {\n        return setShowTotalMismatchModal(false);\n      },\n      title: \"Total Amount Mismatch\",\n      children: _jsxs(\"div\", {\n        className: \"p-4\",\n        children: [_jsx(\"p\", {\n          children: \"The total amount doesn't match the sum of item prices. Do you want to proceed?\"\n        }), _jsxs(\"div\", {\n          className: \"flex justify-end space-x-4 mt-4\",\n          children: [_jsx(Button, {\n            variant: \"secondary\",\n            onClick: function onClick() {\n              return setShowTotalMismatchModal(false);\n            },\n            children: \"Cancel\"\n          }), _jsx(Button, {\n            onClick: function onClick() {\n              return handleSubmit(true);\n            },\n            children: \"Proceed Anyway\"\n          })]\n        })]\n      })\n    })]\n  });\n};\nexport default ReceiptForm;","map":{"version":3,"names":["Store","Calendar","DollarSign","Tag","Plus","Trash","Save","React","useState","useEffect","Input","Button","Dropdown","Alert","Modal","useToast","parseCurrencyInput","formatCurrency","useCategories","validateAmount","validateRequired","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReceiptForm","_ref","_ref$initialData","initialData","onSubmit","onCancel","_ref$loading","loading","addReceipt","_useCategories","categories","categoriesLoading","_useToast","showToast","_useState","_useState2","_slicedToArray","errors","setErrors","_useState3","_useState4","showTotalMismatchModal","setShowTotalMismatchModal","_useState5","merchant","date","Date","toISOString","split","total","category","items","name","price","quantity","notes","_useState6","formData","setFormData","_initialData$items","_objectSpread","length","validateForm","newErrors","requiredFields","forEach","field","validation","isValid","error","amountValidation","itemsWithValues","filter","item","trim","index","Object","keys","handleSubmit","_ref2","_asyncToGenerator","proceedWithMismatch","arguments","undefined","itemsTotal","reduce","sum","parseFloat","parseInt","Math","abs","message","apply","handleItemChange","value","updatedItems","_toConsumableArray","_defineProperty","prev","_","restErrors","_objectWithoutProperties","addItem","concat","removeItem","i","children","e","preventDefault","className","label","icon","onChange","target","rest","_excluded","required","type","_excluded2","_excluded3","placeholder","options","map","cat","id","_excluded4","disabled","variant","size","onClick","prefix","min","title","values","isOpen","onClose"],"sources":["C:/Users/user/Documents/app.v3/client/src/features/receipts/components/ReceiptForm.js"],"sourcesContent":["import { Store, Calendar, DollarSign, Tag, Plus, Trash, Save } from 'lucide-react';\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nimport { Input } from '../../..//shared/components/forms/Input';\r\nimport Button from '../../../shared/components/ui/Button';\r\nimport { Dropdown } from '../../../shared/components/forms/Dropdown';\r\nimport { Alert } from '../../../shared/components/ui/Alert';\r\nimport { Modal } from '../../../shared/components/ui/Modal';\r\nimport { useToast } from '../../../shared/hooks/useToast';\r\nimport { parseCurrencyInput, formatCurrency } from '../../../shared/utils/currency';\r\nimport { useCategories } from '../../categories/hooks/useCategories';\r\nimport { validateAmount, validateRequired } from '../utils/validation';\r\n\r\nconst ReceiptForm = ({ initialData = null, onSubmit, onCancel, loading = false, addReceipt }) => {\r\n  const { categories, loading: categoriesLoading } = useCategories();\r\n  const { showToast } = useToast();\r\n  const [errors, setErrors] = useState({});\r\n  const [showTotalMismatchModal, setShowTotalMismatchModal] = useState(false);\r\n\r\n  const [formData, setFormData] = useState({\r\n    merchant: '',\r\n    date: new Date().toISOString().split('T')[0],\r\n    total: '',\r\n    category: '',\r\n    items: [{ name: '', price: '', quantity: 1 }],\r\n    notes: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setFormData({\r\n        ...initialData,\r\n        date: new Date(initialData.date).toISOString().split('T')[0],\r\n        items:\r\n          initialData.items?.length > 0\r\n            ? initialData.items\r\n            : [{ name: '', price: '', quantity: 1 }],\r\n      });\r\n    }\r\n  }, [initialData]);\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    // Validate required fields\r\n    const requiredFields = ['merchant', 'date', 'total', 'category'];\r\n    requiredFields.forEach(field => {\r\n      const validation = validateRequired(formData[field], field);\r\n      if (!validation.isValid) {\r\n        newErrors[field] = validation.error;\r\n      }\r\n    });\r\n\r\n    // Validate amount\r\n    const amountValidation = validateAmount(formData.total);\r\n    if (!amountValidation.isValid) {\r\n      newErrors.total = amountValidation.error;\r\n    }\r\n\r\n    // Validate items\r\n    const itemsWithValues = formData.items.filter(item => item.name.trim() || item.price);\r\n\r\n    itemsWithValues.forEach((item, index) => {\r\n      if (!item.name.trim()) {\r\n        newErrors[`items.${index}.name`] = 'Item name is required';\r\n      }\r\n      if (!validateAmount(item.price).isValid) {\r\n        newErrors[`items.${index}.price`] = 'Valid price is required';\r\n      }\r\n      if (item.quantity < 1) {\r\n        newErrors[`items.${index}.quantity`] = 'Quantity must be at least 1';\r\n      }\r\n    });\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (proceedWithMismatch = false) => {\r\n    // Clear any previous total mismatch modal\r\n    setShowTotalMismatchModal(false);\r\n\r\n    if (!validateForm()) {\r\n      showToast('Please fix the errors before submitting', 'error');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Calculate total from items if they exist\r\n      const itemsTotal = formData.items.reduce(\r\n        (sum, item) => sum + (parseFloat(item.price) || 0) * (parseInt(item.quantity) || 1),\r\n        0\r\n      );\r\n\r\n      // Validate total matches items if items exist\r\n      if (formData.items.length > 0 && Math.abs(itemsTotal - parseFloat(formData.total)) > 0.01) {\r\n        if (!proceedWithMismatch) {\r\n          setShowTotalMismatchModal(true);\r\n          return;\r\n        }\r\n      }\r\n\r\n      await addReceipt(formData);\r\n      showToast('Receipt saved successfully', 'success');\r\n    } catch (error) {\r\n      showToast(error.message || 'Failed to save receipt', 'error');\r\n    }\r\n  };\r\n\r\n  const handleItemChange = (index, field, value) => {\r\n    const updatedItems = [...formData.items];\r\n    updatedItems[index] = {\r\n      ...updatedItems[index],\r\n      [field]: field === 'price' ? parseCurrencyInput(value) : value,\r\n    };\r\n\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      items: updatedItems,\r\n    }));\r\n\r\n    // Clear error for this field if it exists\r\n    if (errors[`items.${index}.${field}`]) {\r\n      const { [`items.${index}.${field}`]: _, ...restErrors } = errors;\r\n      setErrors(restErrors);\r\n    }\r\n  };\r\n\r\n  const addItem = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      items: [...prev.items, { name: '', price: '', quantity: 1 }],\r\n    }));\r\n  };\r\n\r\n  const removeItem = index => {\r\n    if (formData.items.length === 1) {\r\n      showToast('Cannot remove the last item', 'warning');\r\n      return;\r\n    }\r\n\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      items: prev.items.filter((_, i) => i !== index),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form\r\n        onSubmit={e => {\r\n          e.preventDefault();\r\n          handleSubmit();\r\n        }}\r\n        className=\"space-y-6\"\r\n      >\r\n        {/* Basic Information */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <Input\r\n            label=\"Merchant\"\r\n            icon={Store}\r\n            value={formData.merchant}\r\n            onChange={e => {\r\n              setFormData(prev => ({ ...prev, merchant: e.target.value }));\r\n              if (errors.merchant) {\r\n                const { merchant, ...rest } = errors;\r\n                setErrors(rest);\r\n              }\r\n            }}\r\n            error={errors.merchant}\r\n            required\r\n          />\r\n\r\n          <Input\r\n            type=\"date\"\r\n            label=\"Date\"\r\n            icon={Calendar}\r\n            value={formData.date}\r\n            onChange={e => {\r\n              setFormData(prev => ({ ...prev, date: e.target.value }));\r\n              if (errors.date) {\r\n                const { date, ...rest } = errors;\r\n                setErrors(rest);\r\n              }\r\n            }}\r\n            error={errors.date}\r\n            required\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            label=\"Total Amount\"\r\n            icon={DollarSign}\r\n            value={formData.total}\r\n            onChange={e => {\r\n              const value = parseCurrencyInput(e.target.value);\r\n              setFormData(prev => ({ ...prev, total: value }));\r\n              if (errors.total) {\r\n                const { total, ...rest } = errors;\r\n                setErrors(rest);\r\n              }\r\n            }}\r\n            placeholder=\"0.00\"\r\n            error={errors.total}\r\n            required\r\n          />\r\n\r\n          <Dropdown\r\n            label=\"Category\"\r\n            icon={Tag}\r\n            options={categories.map(cat => ({\r\n              value: cat.id,\r\n              label: cat.name,\r\n            }))}\r\n            value={formData.category}\r\n            onChange={value => {\r\n              setFormData(prev => ({ ...prev, category: value }));\r\n              if (errors.category) {\r\n                const { category, ...rest } = errors;\r\n                setErrors(rest);\r\n              }\r\n            }}\r\n            error={errors.category}\r\n            disabled={categoriesLoading}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        {/* Items */}\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">Items</h3>\r\n            <Button type=\"button\" variant=\"secondary\" size=\"sm\" onClick={addItem} icon={Plus}>\r\n              Add Item\r\n            </Button>\r\n          </div>\r\n\r\n          {formData.items.map((item, index) => (\r\n            <div key={index} className=\"flex gap-4 items-start\">\r\n              <Input\r\n                placeholder=\"Item name\"\r\n                value={item.name}\r\n                onChange={e => handleItemChange(index, 'name', e.target.value)}\r\n                error={errors[`items.${index}.name`]}\r\n                className=\"flex-1\"\r\n              />\r\n              <Input\r\n                type=\"text\"\r\n                placeholder=\"Price\"\r\n                value={item.price}\r\n                onChange={e => handleItemChange(index, 'price', e.target.value)}\r\n                error={errors[`items.${index}.price`]}\r\n                className=\"w-32\"\r\n                prefix=\"$\"\r\n              />\r\n              <Input\r\n                type=\"number\"\r\n                placeholder=\"Qty\"\r\n                value={item.quantity}\r\n                onChange={e => handleItemChange(index, 'quantity', e.target.value)}\r\n                error={errors[`items.${index}.quantity`]}\r\n                min=\"1\"\r\n                className=\"w-24\"\r\n              />\r\n              {formData.items.length > 1 && (\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"danger\"\r\n                  size=\"icon\"\r\n                  onClick={() => removeItem(index)}\r\n                  icon={Trash}\r\n                />\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Notes */}\r\n        <Input\r\n          label=\"Notes\"\r\n          type=\"textarea\"\r\n          value={formData.notes}\r\n          onChange={e => setFormData(prev => ({ ...prev, notes: e.target.value }))}\r\n          placeholder=\"Add any additional notes here...\"\r\n          className=\"h-24\"\r\n        />\r\n\r\n        {/* Error Summary (Client-side Validation Errors) */}\r\n        {Object.keys(errors).length > 0 && (\r\n          <Alert\r\n            type=\"error\"\r\n            title=\"Please fix the following errors:\"\r\n            message={\r\n              <ul className=\"list-disc list-inside\">\r\n                {Object.values(errors).map((error, index) => (\r\n                  <li key={index}>{error}</li>\r\n                ))}\r\n              </ul>\r\n            }\r\n            className=\"mb-4\"\r\n          />\r\n        )}\r\n\r\n        {/* Server/Hook Error Display */}\r\n        {error && (\r\n           <Alert\r\n             type=\"error\"\r\n             title=\"Error saving receipt:\"\r\n             message={error}\r\n             className=\"mb-4\"\r\n           />\r\n        )}\r\n\r\n        {/* Form Actions */}\r\n        <div className=\"flex justify-end space-x-4\">\r\n          <Button type=\"button\" variant=\"secondary\" onClick={onCancel} disabled={loading}>\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\" loading={loading} icon={Save}>\r\n            {initialData ? 'Update Receipt' : 'Save Receipt'}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n\r\n      {/* Total Mismatch Modal */}\r\n      {showTotalMismatchModal && (\r\n        <Modal\r\n          isOpen={showTotalMismatchModal}\r\n          onClose={() => setShowTotalMismatchModal(false)}\r\n          title=\"Total Amount Mismatch\"\r\n        >\r\n          <div className=\"p-4\">\r\n            <p>The total amount doesn't match the sum of item prices. Do you want to proceed?</p>\r\n            <div className=\"flex justify-end space-x-4 mt-4\">\r\n              <Button variant=\"secondary\" onClick={() => setShowTotalMismatchModal(false)}>\r\n                Cancel\r\n              </Button>\r\n              <Button onClick={() => handleSubmit(true)}>Proceed Anyway</Button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReceiptForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}