{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from \"../../auth/hooks/useAuth\";\nimport { receiptApi } from \"../services/receipts\";\nimport errorHandler from \"../../../shared/utils/errorHandler\";\nimport { useToast } from \"../../../shared/hooks/useToast\";\nexport var useReceipts = function useReceipts() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    receipts = _useState2[0],\n    setReceipts = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var _useState7 = useState({\n      limit: 10,\n      startAfter: null,\n      hasNextPage: true\n    }),\n    _useState8 = _slicedToArray(_useState7, 2),\n    pagination = _useState8[0],\n    setPagination = _useState8[1];\n  var _useState9 = useState({}),\n    _useState10 = _slicedToArray(_useState9, 2),\n    filters = _useState10[0],\n    setFilters = _useState10[1];\n  var _useAuth = useAuth(),\n    user = _useAuth.user;\n  var _useToast = useToast(),\n    showToast = _useToast.showToast;\n  var fetchReceipts = useCallback(_asyncToGenerator(function* () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      setLoading(true);\n      setError(null);\n      if (!user) {\n        throw new Error('User not authenticated');\n      }\n      var fetchOptions = _objectSpread(_objectSpread({\n        limit: pagination.limit,\n        startAfter: pagination.startAfter\n      }, filters), options);\n      var response = yield receiptApi.getReceipts(fetchOptions);\n      setReceipts(response.data.receipts || []);\n      setPagination(function (prev) {\n        var _response$data$pagina, _response$data$pagina2;\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          startAfter: ((_response$data$pagina = response.data.pagination) == null ? void 0 : _response$data$pagina.lastVisible) || null,\n          hasNextPage: ((_response$data$pagina2 = response.data.pagination) == null ? void 0 : _response$data$pagina2.hasNextPage) || false\n        });\n      });\n    } catch (err) {\n      var userFriendlyMessage = errorHandler(err, 'Failed to fetch receipts.');\n      setError(userFriendlyMessage);\n      showToast(userFriendlyMessage, 'error');\n    } finally {\n      setLoading(false);\n    }\n  }), [user, pagination.limit, pagination.startAfter, filters, showToast]);\n  var addReceipt = useCallback(function () {\n    var _ref2 = _asyncToGenerator(function* (receiptData) {\n      var imageFile = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      try {\n        setLoading(true);\n        setError(null);\n        if (!user) {\n          throw new Error('User not authenticated');\n        }\n        var result = yield receiptApi.createReceipt(receiptData, imageFile);\n        yield fetchReceipts({\n          startAfter: null\n        });\n        showToast('Receipt added successfully', 'success');\n        return result;\n      } catch (err) {\n        var userFriendlyMessage = errorHandler(err, 'Failed to add receipt.');\n        setError(userFriendlyMessage);\n        showToast(userFriendlyMessage, 'error');\n        throw err;\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [user, fetchReceipts, showToast]);\n  var updateReceipt = useCallback(function () {\n    var _ref3 = _asyncToGenerator(function* (receiptId, receiptData) {\n      var imageFile = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      try {\n        setLoading(true);\n        setError(null);\n        if (!user) {\n          throw new Error('User not authenticated');\n        }\n        var result = yield receiptApi.updateReceipt(receiptId, receiptData, imageFile);\n        yield fetchReceipts();\n        showToast('Receipt updated successfully', 'success');\n        return result;\n      } catch (err) {\n        var userFriendlyMessage = errorHandler(err, 'Failed to update receipt.');\n        setError(userFriendlyMessage);\n        showToast(userFriendlyMessage, 'error');\n        throw err;\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function (_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [user, fetchReceipts, showToast]);\n  var deleteReceipt = useCallback(function () {\n    var _ref4 = _asyncToGenerator(function* (receiptId) {\n      try {\n        setLoading(true);\n        setError(null);\n        if (!user) {\n          throw new Error('User not authenticated');\n        }\n        yield receiptApi.deleteReceipt(receiptId);\n        yield fetchReceipts({\n          startAfter: null\n        });\n        showToast('Receipt deleted successfully', 'success');\n      } catch (err) {\n        var userFriendlyMessage = errorHandler(err, 'Failed to delete receipt.');\n        setError(userFriendlyMessage);\n        showToast(userFriendlyMessage, 'error');\n        throw err;\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }(), [user, fetchReceipts, showToast]);\n  useEffect(function () {\n    if (user) {\n      fetchReceipts();\n    } else {\n      setReceipts([]);\n    }\n  }, [user, fetchReceipts]);\n  return {\n    receipts: receipts,\n    loading: loading,\n    error: error,\n    pagination: pagination,\n    setPagination: setPagination,\n    filters: filters,\n    setFilters: setFilters,\n    fetchReceipts: fetchReceipts,\n    addReceipt: addReceipt,\n    updateReceipt: updateReceipt,\n    deleteReceipt: deleteReceipt\n  };\n};\nexport default useReceipts;","map":{"version":3,"names":["useState","useEffect","useCallback","useAuth","receiptApi","errorHandler","useToast","useReceipts","_useState","_useState2","_slicedToArray","receipts","setReceipts","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useState7","limit","startAfter","hasNextPage","_useState8","pagination","setPagination","_useState9","_useState10","filters","setFilters","_useAuth","user","_useToast","showToast","fetchReceipts","_asyncToGenerator","options","arguments","length","undefined","Error","fetchOptions","_objectSpread","response","getReceipts","data","prev","_response$data$pagina","_response$data$pagina2","lastVisible","err","userFriendlyMessage","addReceipt","_ref2","receiptData","imageFile","result","createReceipt","_x","apply","updateReceipt","_ref3","receiptId","_x2","_x3","deleteReceipt","_ref4","_x4"],"sources":["C:/Users/user/Documents/app.v3/client/src/features/receipts/hooks/useReceipts.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '../../auth/hooks/useAuth';\r\nimport { receiptApi } from '../services/receipts';\r\nimport errorHandler from '../../../shared/utils/errorHandler';\r\nimport { useToast } from '../../../shared/hooks/useToast';\r\n\r\n/**\r\n * @typedef {object} Receipt\r\n * @property {string} id - The receipt ID.\r\n * @property {string} userId - The ID of the user who owns the receipt.\r\n * @property {string} merchant - The merchant name.\r\n * @property {Date} date - The date of the receipt.\r\n * @property {number} total - The total amount of the receipt.\r\n * // Add other relevant receipt properties here\r\n */\r\n\r\n/**\r\n * @typedef {object} PaginationInfo\r\n * @property {number} limit - The number of items per page.\r\n * @property {string|null} startAfter - The ID of the last item from the previous page (for cursor-based pagination).\r\n * @property {boolean} hasNextPage - Indicates if there are more pages.\r\n */\r\n\r\n/**\r\n * @typedef {object} ReceiptFilters\r\n * @property {string} [category] - Filter by category.\r\n * @property {string} [merchant] - Filter by merchant name.\r\n * @property {string} [startDate] - Filter by start date (ISO 8601).\r\n * @property {string} [endDate] - Filter by end date (ISO 8601).\r\n * // Add other relevant filter properties here\r\n */\r\n\r\n/**\r\n * @typedef {object} UseReceiptsReturn\r\n * @property {Receipt[]} receipts - Array of fetched receipts.\r\n * @property {boolean} loading - Loading state.\r\n * @property {string|null} error - Error message if fetching/mutating failed.\r\n * @property {PaginationInfo} pagination - Pagination information.\r\n * @property {function(PaginationInfo): void} setPagination - Function to update pagination state.\r\n * @property {ReceiptFilters} filters - Current filter state.\r\n * @property {function(ReceiptFilters): void} setFilters - Function to update filter state.\r\n * @property {function(object): Promise<void>} fetchReceipts - Function to fetch receipts with optional filters/pagination.\r\n * @property {function(object, File): Promise<object>} addReceipt - Function to add a new receipt.\r\n * @property {function(string, object, File): Promise<object>} updateReceipt - Function to update an existing receipt.\r\n * @property {function(string): Promise<void>} deleteReceipt - Function to delete a receipt.\r\n */\r\n\r\n/**\r\n * @desc Custom hook for fetching, adding, updating, and deleting user receipts.\r\n * Manages loading, error, pagination, and filter states.\r\n * @returns {UseReceiptsReturn} - Object containing receipts data, state, and functions.\r\n */\r\nexport const useReceipts = () => {\r\n  const [receipts, setReceipts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [pagination, setPagination] = useState({ limit: 10, startAfter: null, hasNextPage: true });\r\n  const [filters, setFilters] = useState({});\r\n  const { user } = useAuth();\r\n  const { showToast } = useToast(); // Get showToast function from useToast hook\r\n\r\n  /**\r\n   * @desc Fetches receipts from the backend API with specified options.\r\n   * Updates receipts and pagination state.\r\n   * @param {object} [options] - Options to override current filters and pagination (e.g., { limit: 20, startAfter: 'abc', category: 'food' }).\r\n   * @returns {Promise<void>}\r\n   */\r\n  const fetchReceipts = useCallback(async (options = {}) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      if (!user) {\r\n        throw new Error('User not authenticated');\r\n      }\r\n\r\n      // Merge default pagination and current filters with provided options\r\n      const fetchOptions = {\r\n          limit: pagination.limit,\r\n          startAfter: pagination.startAfter,\r\n          ...filters,\r\n          ...options\r\n      };\r\n\r\n      const response = await receiptApi.getReceipts(fetchOptions);\r\n      setReceipts(response.data.receipts || []);\r\n      setPagination(prev => ({\r\n          ...prev,\r\n          startAfter: response.data.pagination?.lastVisible || null,\r\n          hasNextPage: response.data.pagination?.hasNextPage || false\r\n      }));\r\n\r\n    } catch (err) {\r\n      const userFriendlyMessage = errorHandler(err, 'Failed to fetch receipts.');\r\n      setError(userFriendlyMessage);\r\n      // Show toast with the error message\r\n      showToast(userFriendlyMessage, 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, pagination.limit, pagination.startAfter, filters, showToast]);\r\n\r\n  /**\r\n   * @desc Adds a new receipt via the backend API.\r\n   * Refreshes the receipt list after successful addition.\r\n   * @param {object} receiptData - The data for the new receipt.\r\n   * @param {File} [imageFile=null] - Optional image file to upload with the receipt.\r\n   * @returns {Promise<object>} - A promise that resolves with the result from the API.\r\n   * @throws {Error} - Throws an error if the API request fails.\r\n   */\r\n  const addReceipt = useCallback(async (receiptData, imageFile = null) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      if (!user) {\r\n        throw new Error('User not authenticated');\r\n      }\r\n\r\n      const result = await receiptApi.createReceipt(receiptData, imageFile);\r\n\r\n      // Refresh receipts list\r\n      await fetchReceipts({ startAfter: null });\r\n\r\n      showToast('Receipt added successfully', 'success');\r\n      return result;\r\n    } catch (err) {\r\n      const userFriendlyMessage = errorHandler(err, 'Failed to add receipt.');\r\n      setError(userFriendlyMessage);\r\n      showToast(userFriendlyMessage, 'error');\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, fetchReceipts, showToast]);\r\n\r\n  /**\r\n   * @desc Updates an existing receipt via the backend API.\r\n   * Refreshes the receipt list after successful update.\r\n   * @param {string} receiptId - The ID of the receipt to update.\r\n   * @param {object} receiptData - The updated data for the receipt.\r\n   * @param {File} [imageFile=null] - Optional new image file to upload.\r\n   * @returns {Promise<object>} - A promise that resolves with the result from the API.\r\n   * @throws {Error} - Throws an error if the API request fails.\r\n   */\r\n  const updateReceipt = useCallback(async (receiptId, receiptData, imageFile = null) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      if (!user) {\r\n        throw new Error('User not authenticated');\r\n      }\r\n\r\n      const result = await receiptApi.updateReceipt(receiptId, receiptData, imageFile);\r\n\r\n      // Refresh receipts list\r\n      await fetchReceipts();\r\n\r\n      showToast('Receipt updated successfully', 'success');\r\n      return result;\r\n    } catch (err) {\r\n      const userFriendlyMessage = errorHandler(err, 'Failed to update receipt.');\r\n      setError(userFriendlyMessage);\r\n      showToast(userFriendlyMessage, 'error');\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, fetchReceipts, showToast]);\r\n\r\n  /**\r\n   * @desc Deletes a receipt via the backend API.\r\n   * Refreshes the receipt list after successful deletion.\r\n   * @param {string} receiptId - The ID of the receipt to delete.\r\n   * @returns {Promise<void>} - A promise that resolves when the deletion is complete.\r\n   * @throws {Error} - Throws an error if the API request fails.\r\n   */\r\n  const deleteReceipt = useCallback(async (receiptId) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      if (!user) {\r\n        throw new Error('User not authenticated');\r\n      }\r\n\r\n      await receiptApi.deleteReceipt(receiptId);\r\n\r\n      // Refresh receipts list\r\n      await fetchReceipts({ startAfter: null });\r\n\r\n      showToast('Receipt deleted successfully', 'success');\r\n    } catch (err) {\r\n      const userFriendlyMessage = errorHandler(err, 'Failed to delete receipt.');\r\n      setError(userFriendlyMessage);\r\n      showToast(userFriendlyMessage, 'error');\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, fetchReceipts, showToast]);\r\n\r\n  // Fetch receipts when user changes or pagination/filters change\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchReceipts();\r\n    } else {\r\n      setReceipts([]);\r\n    }\r\n  }, [user, fetchReceipts]);\r\n\r\n  return {\r\n    receipts,\r\n    loading,\r\n    error,\r\n    pagination,\r\n    setPagination,\r\n    filters,\r\n    setFilters,\r\n    fetchReceipts,\r\n    addReceipt,\r\n    updateReceipt,\r\n    deleteReceipt\r\n  };\r\n};\r\n\r\nexport default useReceipts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}