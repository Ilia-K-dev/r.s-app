{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport CategoryBreakdown from \"../../features/analytics/components/CategoryBreakdown\";\nimport { SpendingChart } from \"../../features/analytics/components/SpendingChart\";\nimport { useCategories } from \"../../features/categories/hooks/useCategories\";\nimport ReceiptList from \"../../features/receipts/components/ReceiptList\";\nimport { useReceipts } from \"../../features/receipts/hooks/useReceipts\";\nimport { Alert } from \"../../shared/components/ui/Alert\";\nimport { Card } from \"../../shared/components/ui/Card\";\nimport { Loading } from \"../../shared/components/ui/Loading\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var DashboardPage = function DashboardPage() {\n  var _useReceipts = useReceipts(),\n    receipts = _useReceipts.receipts,\n    receiptsLoading = _useReceipts.loading,\n    receiptsError = _useReceipts.error;\n  var _useCategories = useCategories(),\n    categories = _useCategories.categories,\n    categoriesLoading = _useCategories.loading;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    recentReceipts = _useState2[0],\n    setRecentReceipts = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    totalSpent = _useState4[0],\n    setTotalSpent = _useState4[1];\n  useEffect(function () {\n    if (receipts) {\n      var sortedReceipts = _toConsumableArray(receipts).sort(function (a, b) {\n        return new Date(b.date) - new Date(a.date);\n      });\n      setRecentReceipts(sortedReceipts.slice(0, 5));\n      var total = receipts.reduce(function (sum, receipt) {\n        return sum + receipt.total;\n      }, 0);\n      setTotalSpent(total);\n    }\n  }, [receipts]);\n  if (receiptsLoading || categoriesLoading) {\n    return _jsx(Loading, {\n      size: \"lg\"\n    });\n  }\n  if (receiptsError) {\n    return _jsx(Alert, {\n      type: \"error\",\n      message: receiptsError\n    });\n  }\n  return _jsxs(\"div\", {\n    className: \"space-y-6\",\n    children: [_jsx(\"h1\", {\n      className: \"text-2xl font-bold text-gray-900\",\n      children: \"Dashboard\"\n    }), _jsxs(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n      children: [_jsx(Card, {\n        children: _jsxs(\"div\", {\n          className: \"text-center\",\n          children: [_jsx(\"p\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Total Spent\"\n          }), _jsxs(\"p\", {\n            className: \"mt-2 text-3xl font-semibold text-gray-900\",\n            children: [\"$\", totalSpent.toFixed(2)]\n          })]\n        })\n      }), _jsx(Card, {\n        children: _jsxs(\"div\", {\n          className: \"text-center\",\n          children: [_jsx(\"p\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Total Receipts\"\n          }), _jsx(\"p\", {\n            className: \"mt-2 text-3xl font-semibold text-gray-900\",\n            children: receipts.length\n          })]\n        })\n      }), _jsx(Card, {\n        children: _jsxs(\"div\", {\n          className: \"text-center\",\n          children: [_jsx(\"p\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Categories\"\n          }), _jsx(\"p\", {\n            className: \"mt-2 text-3xl font-semibold text-gray-900\",\n            children: categories.length\n          })]\n        })\n      })]\n    }), _jsxs(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [_jsx(SpendingChart, {\n        data: receipts\n      }), _jsx(CategoryBreakdown, {\n        receipts: receipts,\n        categories: categories\n      })]\n    }), _jsxs(\"div\", {\n      children: [_jsx(\"h2\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: \"Recent Receipts\"\n      }), _jsx(ReceiptList, {\n        receipts: recentReceipts\n      })]\n    })]\n  });\n};","map":{"version":3,"names":["React","useEffect","useState","CategoryBreakdown","SpendingChart","useCategories","ReceiptList","useReceipts","Alert","Card","Loading","jsx","_jsx","jsxs","_jsxs","DashboardPage","_useReceipts","receipts","receiptsLoading","loading","receiptsError","error","_useCategories","categories","categoriesLoading","_useState","_useState2","_slicedToArray","recentReceipts","setRecentReceipts","_useState3","_useState4","totalSpent","setTotalSpent","sortedReceipts","_toConsumableArray","sort","a","b","Date","date","slice","total","reduce","sum","receipt","size","type","message","className","children","toFixed","length","data"],"sources":["C:/Users/user/Documents/app.v3/client/src/core/pages/DashboardPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'; //correct\n\r\nimport CategoryBreakdown from '../../features/analytics/components/CategoryBreakdown'; //correct\r\nimport { SpendingChart } from '../../features/analytics/components/SpendingChart'; //correct\r\nimport { useCategories } from '../../features/categories/hooks/useCategories'; //correct\r\nimport ReceiptList from '../../features/receipts/components/ReceiptList'; //correct\r\nimport { useReceipts } from '../../features/receipts/hooks/useReceipts'; //correct\r\nimport { Alert } from '../../shared/components/ui/Alert'; //correct\r\nimport { Card } from '../../shared/components/ui/Card'; //correct\r\nimport { Loading } from '../../shared/components/ui/Loading'; //correct\r\n\r\nexport const DashboardPage = () => {\r\n  const { receipts, loading: receiptsLoading, error: receiptsError } = useReceipts();\r\n  const { categories, loading: categoriesLoading } = useCategories();\r\n  const [recentReceipts, setRecentReceipts] = useState([]);\r\n  const [totalSpent, setTotalSpent] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (receipts) {\r\n      const sortedReceipts = [...receipts].sort((a, b) => new Date(b.date) - new Date(a.date));\r\n      setRecentReceipts(sortedReceipts.slice(0, 5));\r\n\r\n      const total = receipts.reduce((sum, receipt) => sum + receipt.total, 0);\r\n      setTotalSpent(total);\r\n    }\r\n  }, [receipts]);\r\n\r\n  if (receiptsLoading || categoriesLoading) {\r\n    return <Loading size=\"lg\" />;\r\n  }\r\n\r\n  if (receiptsError) {\r\n    return <Alert type=\"error\" message={receiptsError} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-bold text-gray-900\">Dashboard</h1>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <Card>\r\n          <div className=\"text-center\">\r\n            <p className=\"text-sm font-medium text-gray-500\">Total Spent</p>\r\n            <p className=\"mt-2 text-3xl font-semibold text-gray-900\">${totalSpent.toFixed(2)}</p>\r\n          </div>\r\n        </Card>\r\n        <Card>\r\n          <div className=\"text-center\">\r\n            <p className=\"text-sm font-medium text-gray-500\">Total Receipts</p>\r\n            <p className=\"mt-2 text-3xl font-semibold text-gray-900\">{receipts.length}</p>\r\n          </div>\r\n        </Card>\r\n        <Card>\r\n          <div className=\"text-center\">\r\n            <p className=\"text-sm font-medium text-gray-500\">Categories</p>\r\n            <p className=\"mt-2 text-3xl font-semibold text-gray-900\">{categories.length}</p>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <SpendingChart data={receipts} />\r\n        <CategoryBreakdown receipts={receipts} categories={categories} />\r\n      </div>\r\n\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold mb-4\">Recent Receipts</h2>\r\n        <ReceiptList receipts={recentReceipts} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAElD,OAAOC,iBAAiB;AACxB,SAASC,aAAa;AACtB,SAASC,aAAa;AACtB,OAAOC,WAAW;AAClB,SAASC,WAAW;AACpB,SAASC,KAAK;AACd,SAASC,IAAI;AACb,SAASC,OAAO;AAA6C,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE7D,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;EACjC,IAAAC,YAAA,GAAqET,WAAW,CAAC,CAAC;IAA1EU,QAAQ,GAAAD,YAAA,CAARC,QAAQ;IAAWC,eAAe,GAAAF,YAAA,CAAxBG,OAAO;IAA0BC,aAAa,GAAAJ,YAAA,CAApBK,KAAK;EACjD,IAAAC,cAAA,GAAmDjB,aAAa,CAAC,CAAC;IAA1DkB,UAAU,GAAAD,cAAA,CAAVC,UAAU;IAAWC,iBAAiB,GAAAF,cAAA,CAA1BH,OAAO;EAC3B,IAAAM,SAAA,GAA4CvB,QAAQ,CAAC,EAAE,CAAC;IAAAwB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAjDG,cAAc,GAAAF,UAAA;IAAEG,iBAAiB,GAAAH,UAAA;EACxC,IAAAI,UAAA,GAAoC5B,QAAQ,CAAC,CAAC,CAAC;IAAA6B,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAxCE,UAAU,GAAAD,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAEhC9B,SAAS,CAAC,YAAM;IACd,IAAIgB,QAAQ,EAAE;MACZ,IAAMiB,cAAc,GAAGC,kBAAA,CAAIlB,QAAQ,EAAEmB,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;QAAA,OAAK,IAAIC,IAAI,CAACD,CAAC,CAACE,IAAI,CAAC,GAAG,IAAID,IAAI,CAACF,CAAC,CAACG,IAAI,CAAC;MAAA,EAAC;MACxFX,iBAAiB,CAACK,cAAc,CAACO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAE7C,IAAMC,KAAK,GAAGzB,QAAQ,CAAC0B,MAAM,CAAC,UAACC,GAAG,EAAEC,OAAO;QAAA,OAAKD,GAAG,GAAGC,OAAO,CAACH,KAAK;MAAA,GAAE,CAAC,CAAC;MACvET,aAAa,CAACS,KAAK,CAAC;IACtB;EACF,CAAC,EAAE,CAACzB,QAAQ,CAAC,CAAC;EAEd,IAAIC,eAAe,IAAIM,iBAAiB,EAAE;IACxC,OAAOZ,IAAA,CAACF,OAAO;MAACoC,IAAI,EAAC;IAAI,CAAE,CAAC;EAC9B;EAEA,IAAI1B,aAAa,EAAE;IACjB,OAAOR,IAAA,CAACJ,KAAK;MAACuC,IAAI,EAAC,OAAO;MAACC,OAAO,EAAE5B;IAAc,CAAE,CAAC;EACvD;EAEA,OACEN,KAAA;IAAKmC,SAAS,EAAC,WAAW;IAAAC,QAAA,GACxBtC,IAAA;MAAIqC,SAAS,EAAC,kCAAkC;MAAAC,QAAA,EAAC;IAAS,CAAI,CAAC,EAE/DpC,KAAA;MAAKmC,SAAS,EAAC,uCAAuC;MAAAC,QAAA,GACpDtC,IAAA,CAACH,IAAI;QAAAyC,QAAA,EACHpC,KAAA;UAAKmC,SAAS,EAAC,aAAa;UAAAC,QAAA,GAC1BtC,IAAA;YAAGqC,SAAS,EAAC,mCAAmC;YAAAC,QAAA,EAAC;UAAW,CAAG,CAAC,EAChEpC,KAAA;YAAGmC,SAAS,EAAC,2CAA2C;YAAAC,QAAA,GAAC,GAAC,EAAClB,UAAU,CAACmB,OAAO,CAAC,CAAC,CAAC;UAAA,CAAI,CAAC;QAAA,CAClF;MAAC,CACF,CAAC,EACPvC,IAAA,CAACH,IAAI;QAAAyC,QAAA,EACHpC,KAAA;UAAKmC,SAAS,EAAC,aAAa;UAAAC,QAAA,GAC1BtC,IAAA;YAAGqC,SAAS,EAAC,mCAAmC;YAAAC,QAAA,EAAC;UAAc,CAAG,CAAC,EACnEtC,IAAA;YAAGqC,SAAS,EAAC,2CAA2C;YAAAC,QAAA,EAAEjC,QAAQ,CAACmC;UAAM,CAAI,CAAC;QAAA,CAC3E;MAAC,CACF,CAAC,EACPxC,IAAA,CAACH,IAAI;QAAAyC,QAAA,EACHpC,KAAA;UAAKmC,SAAS,EAAC,aAAa;UAAAC,QAAA,GAC1BtC,IAAA;YAAGqC,SAAS,EAAC,mCAAmC;YAAAC,QAAA,EAAC;UAAU,CAAG,CAAC,EAC/DtC,IAAA;YAAGqC,SAAS,EAAC,2CAA2C;YAAAC,QAAA,EAAE3B,UAAU,CAAC6B;UAAM,CAAI,CAAC;QAAA,CAC7E;MAAC,CACF,CAAC;IAAA,CACJ,CAAC,EAENtC,KAAA;MAAKmC,SAAS,EAAC,uCAAuC;MAAAC,QAAA,GACpDtC,IAAA,CAACR,aAAa;QAACiD,IAAI,EAAEpC;MAAS,CAAE,CAAC,EACjCL,IAAA,CAACT,iBAAiB;QAACc,QAAQ,EAAEA,QAAS;QAACM,UAAU,EAAEA;MAAW,CAAE,CAAC;IAAA,CAC9D,CAAC,EAENT,KAAA;MAAAoC,QAAA,GACEtC,IAAA;QAAIqC,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAAe,CAAI,CAAC,EAC/DtC,IAAA,CAACN,WAAW;QAACW,QAAQ,EAAEW;MAAe,CAAE,CAAC;IAAA,CACtC,CAAC;EAAA,CACH,CAAC;AAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}