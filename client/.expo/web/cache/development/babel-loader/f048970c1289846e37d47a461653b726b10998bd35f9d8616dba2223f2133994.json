{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport { formatCurrency } from \"../../../shared/utils/currency\";\nimport { formatDate } from \"../../../shared/utils/date\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var SpendingChart = function SpendingChart(_ref) {\n  var _ref$data = _ref.data,\n    data = _ref$data === void 0 ? [] : _ref$data;\n  var chartData = useMemo(function () {\n    if (!data || data.length === 0) return [];\n    var dateMap = data.reduce(function (acc, receipt) {\n      var date = formatDate(receipt.date, 'MMM dd');\n      if (!acc[date]) {\n        acc[date] = {\n          date: date,\n          amount: 0\n        };\n      }\n      acc[date].amount += receipt.total;\n      return acc;\n    }, {});\n    return Object.values(dateMap).sort(function (a, b) {\n      return new Date(a.date) - new Date(b.date);\n    });\n  }, [data]);\n  if (chartData.length === 0) {\n    return _jsx(\"div\", {\n      className: \"h-full flex items-center justify-center text-gray-500\",\n      children: \"No data available\"\n    });\n  }\n  return _jsx(ResponsiveContainer, {\n    width: \"100%\",\n    height: \"100%\",\n    children: _jsxs(LineChart, {\n      data: chartData,\n      margin: {\n        top: 5,\n        right: 30,\n        left: 20,\n        bottom: 5\n      },\n      children: [_jsx(CartesianGrid, {\n        strokeDasharray: \"3 3\",\n        stroke: \"#E5E7EB\"\n      }), _jsx(XAxis, {\n        dataKey: \"date\",\n        stroke: \"#6B7280\",\n        fontSize: 12\n      }), _jsx(YAxis, {\n        stroke: \"#6B7280\",\n        fontSize: 12,\n        tickFormatter: function tickFormatter(value) {\n          return formatCurrency(value);\n        }\n      }), _jsx(Tooltip, {\n        formatter: function formatter(value) {\n          return [formatCurrency(value), 'Amount'];\n        },\n        labelStyle: {\n          color: '#111827'\n        },\n        contentStyle: {\n          backgroundColor: '#FFFFFF',\n          border: '1px solid #E5E7EB',\n          borderRadius: '0.375rem',\n          padding: '0.5rem'\n        }\n      }), _jsx(Line, {\n        type: \"monotone\",\n        dataKey: \"amount\",\n        stroke: \"#0EA5E9\",\n        strokeWidth: 2,\n        dot: {\n          fill: '#0EA5E9',\n          r: 4\n        },\n        activeDot: {\n          r: 6\n        }\n      })]\n    })\n  });\n};\nexport default SpendingChart;","map":{"version":3,"names":["React","useMemo","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","formatCurrency","formatDate","jsx","_jsx","jsxs","_jsxs","SpendingChart","_ref","_ref$data","data","chartData","length","dateMap","reduce","acc","receipt","date","amount","total","Object","values","sort","a","b","Date","className","children","width","height","margin","top","right","left","bottom","strokeDasharray","stroke","dataKey","fontSize","tickFormatter","value","formatter","labelStyle","color","contentStyle","backgroundColor","border","borderRadius","padding","type","strokeWidth","dot","fill","r","activeDot"],"sources":["C:/Users/user/Documents/app.v3/client/src/features/analytics/components/SpendingChart.js"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { \r\n  LineChart, \r\n  Line, \r\n  XAxis, \r\n  YAxis, \r\n  CartesianGrid, \r\n  Tooltip, \r\n  ResponsiveContainer \r\n} from 'recharts';\r\nimport { formatCurrency } from '../../../shared/utils/currency';\r\nimport { formatDate } from '../../../shared/utils/date';\r\n\r\nexport const SpendingChart = ({ data = [] }) => {\r\n  const chartData = useMemo(() => {\r\n    if (!data || data.length === 0) return [];\r\n\r\n    // Group receipts by date and sum totals\r\n    const dateMap = data.reduce((acc, receipt) => {\r\n      const date = formatDate(receipt.date, 'MMM dd');\r\n      if (!acc[date]) {\r\n        acc[date] = { date, amount: 0 };\r\n      }\r\n      acc[date].amount += receipt.total;\r\n      return acc;\r\n    }, {});\r\n\r\n    // Convert to array and sort by date\r\n    return Object.values(dateMap).sort((a, b) => {\r\n      return new Date(a.date) - new Date(b.date);\r\n    });\r\n  }, [data]);\r\n\r\n  if (chartData.length === 0) {\r\n    return <div className=\"h-full flex items-center justify-center text-gray-500\">No data available</div>;\r\n  }\r\n\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n      <LineChart data={chartData} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\r\n        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#E5E7EB\" />\r\n        <XAxis \r\n          dataKey=\"date\" \r\n          stroke=\"#6B7280\"\r\n          fontSize={12}\r\n        />\r\n        <YAxis \r\n          stroke=\"#6B7280\"\r\n          fontSize={12}\r\n          tickFormatter={(value) => formatCurrency(value)}\r\n        />\r\n        <Tooltip\r\n          formatter={(value) => [formatCurrency(value), 'Amount']}\r\n          labelStyle={{ color: '#111827' }}\r\n          contentStyle={{\r\n            backgroundColor: '#FFFFFF',\r\n            border: '1px solid #E5E7EB',\r\n            borderRadius: '0.375rem',\r\n            padding: '0.5rem'\r\n          }}\r\n        />\r\n        <Line\r\n          type=\"monotone\"\r\n          dataKey=\"amount\"\r\n          stroke=\"#0EA5E9\"\r\n          strokeWidth={2}\r\n          dot={{ fill: '#0EA5E9', r: 4 }}\r\n          activeDot={{ r: 6 }}\r\n        />\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default SpendingChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}