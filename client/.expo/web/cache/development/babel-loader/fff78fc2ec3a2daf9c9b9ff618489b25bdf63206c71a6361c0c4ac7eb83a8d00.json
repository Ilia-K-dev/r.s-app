{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from 'react';\nimport { processDocument } from \"../services/documentProcessingService\";\nimport { validateFile } from \"../../../shared/utils/fileHelpers\";\nexport var useOCR = function useOCR() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var processReceipt = function () {\n    var _ref = _asyncToGenerator(function* (file, userId) {\n      try {\n        setLoading(true);\n        setError(null);\n        var processedReceipt = yield processDocument(file, userId);\n        return processedReceipt;\n      } catch (error) {\n        setError(error.message);\n        throw error;\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function processReceipt(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return {\n    loading: loading,\n    error: error,\n    processReceipt: processReceipt\n  };\n};","map":{"version":3,"names":["useState","processDocument","validateFile","useOCR","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","error","setError","processReceipt","_ref","_asyncToGenerator","file","userId","processedReceipt","message","_x","_x2","apply","arguments"],"sources":["C:/Users/user/Documents/app.v3/client/src/features/documents/hooks/useOCR.js"],"sourcesContent":["import { useState } from 'react';\r\n\r\nimport { processDocument } from '../services/documentProcessingService'; //correct\r\nimport { validateFile } from '../../../shared/utils/fileHelpers'; // Updated import\r\n\r\nexport const useOCR = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const processReceipt = async (file, userId) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const processedReceipt = await processDocument(file, userId);\r\n      return processedReceipt;\r\n    } catch (error) {\r\n      setError(error.message);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    processReceipt,\r\n  };\r\n};\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,SAASC,eAAe;AACxB,SAASC,YAAY;AAErB,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAA,EAAS;EAC1B,IAAAC,SAAA,GAA8BJ,QAAQ,CAAC,KAAK,CAAC;IAAAK,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAtCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAC1B,IAAAI,UAAA,GAA0BT,QAAQ,CAAC,IAAI,CAAC;IAAAU,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAEtB,IAAMG,cAAc;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,IAAI,EAAEC,MAAM,EAAK;MAC7C,IAAI;QACFT,UAAU,CAAC,IAAI,CAAC;QAChBI,QAAQ,CAAC,IAAI,CAAC;QAEd,IAAMM,gBAAgB,SAASjB,eAAe,CAACe,IAAI,EAAEC,MAAM,CAAC;QAC5D,OAAOC,gBAAgB;MACzB,CAAC,CAAC,OAAOP,KAAK,EAAE;QACdC,QAAQ,CAACD,KAAK,CAACQ,OAAO,CAAC;QACvB,MAAMR,KAAK;MACb,CAAC,SAAS;QACRH,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAAA,gBAbKK,cAAcA,CAAAO,EAAA,EAAAC,GAAA;MAAA,OAAAP,IAAA,CAAAQ,KAAA,OAAAC,SAAA;IAAA;EAAA,GAanB;EAED,OAAO;IACLhB,OAAO,EAAPA,OAAO;IACPI,KAAK,EAALA,KAAK;IACLE,cAAc,EAAdA;EACF,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}