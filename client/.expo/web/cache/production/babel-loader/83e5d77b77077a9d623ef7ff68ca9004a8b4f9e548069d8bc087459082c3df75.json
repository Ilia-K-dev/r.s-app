{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{createContext,useState,useContext,useEffect}from'react';import{auth}from\"../config/firebase\";import{onAuthStateChanged}from'firebase/auth';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=createContext({user:null,setUser:function setUser(){},loading:true});export var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var unsubscribe=onAuthStateChanged(auth,function(user){setUser(user);setLoading(false);});return function(){return unsubscribe();};},[]);var value={user:user,setUser:setUser,loading:loading};return _jsx(AuthContext.Provider,{value:value,children:children});};export var useAuth=function useAuth(){return useContext(AuthContext);};","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","auth","onAuthStateChanged","jsx","_jsx","AuthContext","user","setUser","loading","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","_useState3","_useState4","setLoading","unsubscribe","value","Provider","useAuth"],"sources":["C:/Users/user/Documents/app.v3/client/src/core/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\r\nimport { auth } from '../config/firebase';\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\n\r\nexport const AuthContext = createContext({\r\n  user: null,\r\n  setUser: () => {},\r\n  loading: true\r\n});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Listen for auth state changes\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    // Clean up subscription\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Create the context value - just the state management, logic is in useAuth.js\r\n  const value = {\r\n    user,\r\n    setUser,\r\n    loading\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};\r\n\r\n// Basic hook for compatibility\r\nexport const useAuth = () => useContext(AuthContext);"],"mappings":"iEAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC7E,OAASC,IAAI,0BACb,OAASC,kBAAkB,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,MAAO,IAAM,CAAAC,WAAW,CAAGR,aAAa,CAAC,CACvCS,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE,QAAT,CAAAA,OAAOA,CAAA,CAAQ,CAAC,CAAC,CACjBC,OAAO,CAAE,IACX,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACrC,IAAAC,SAAA,CAAwBd,QAAQ,CAAC,IAAI,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BN,IAAI,CAAAO,UAAA,IAAEN,OAAO,CAAAM,UAAA,IACpB,IAAAE,UAAA,CAA8BjB,QAAQ,CAAC,IAAI,CAAC,CAAAkB,UAAA,CAAAF,cAAA,CAAAC,UAAA,IAArCP,OAAO,CAAAQ,UAAA,IAAEC,UAAU,CAAAD,UAAA,IAG1BhB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAkB,WAAW,CAAGhB,kBAAkB,CAACD,IAAI,CAAE,SAACK,IAAI,CAAK,CACrDC,OAAO,CAACD,IAAI,CAAC,CACbW,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CAGF,MAAO,kBAAM,CAAAC,WAAW,CAAC,CAAC,GAC5B,CAAC,CAAE,EAAE,CAAC,CAGN,GAAM,CAAAC,KAAK,CAAG,CACZb,IAAI,CAAJA,IAAI,CACJC,OAAO,CAAPA,OAAO,CACPC,OAAO,CAAPA,OACF,CAAC,CAED,MAAO,CAAAJ,IAAA,CAACC,WAAW,CAACe,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAAR,QAAA,CAAEA,QAAQ,CAAuB,CAAC,CAC9E,CAAC,CAGD,MAAO,IAAM,CAAAU,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,QAAS,CAAAtB,UAAU,CAACM,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}